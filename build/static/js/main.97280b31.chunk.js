(this["webpackJsonpmedical-inventory"]=this["webpackJsonpmedical-inventory"]||[]).push([[0],{41:function(e,t,n){e.exports=n(77)},46:function(e,t,n){},47:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),i=n.n(o),s=(n(46),n(4)),l=n(14),c=n(3),u=n(2),p=n(1),d=(n(47),n(6)),m=n(5),h=n(16),f={mainApp:void 0,inventoryData:void 0,inventoryConfig:void 0},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MAIN_APP":return Object(m.a)(Object(m.a)({},e),{},{mainApp:t.payload});case"SET_INVENTORY_DATA":return Object(m.a)(Object(m.a)({},e),{},{inventoryData:t.payload.inventoryData,inventoryConfig:t.payload.inventoryConfig});default:return e}},v=[{code:"home",name:"Home",url:"/home",menuClass:"fa fa-home",active:!1,authenticated:!1,showSidebar:!1},{code:"creator",name:"Creator",url:"/creator",menuClass:"fa fa-play",active:!1,authenticated:!1,showSidebar:!1}],b=function e(){Object(p.a)(this,e),this.id=void 0,this.createdDate=void 0,this.modifiedDate=void 0,this.nulledFields=void 0},y=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).name=void 0,e.appCode=void 0,e.shortDescription=void 0,e.about=void 0,e.welcomingMessage=void 0,e.address=void 0,e.contact=void 0,e.website=void 0,e.iconUrl=void 0,e.pageIcon=void 0,e.backgroundUrl=void 0,e.footerIconClass=void 0,e.color=void 0,e.fontColor=void 0,e}return n}(b),E={loginKey:null,loginStatus:!1,loginFailed:!1,menus:v,loggedUser:null,loginAttempt:!1,requestId:null,applicationProfile:new y,assetsPath:"/"},k=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0,a={};switch(n.type){case"SET_REQUEST_ID":return console.debug("USER REDUCER:REQUEST_ID",n.payload.requestId),a=Object(m.a)(Object(m.a)({},t),{},{requestId:n.payload.requestId,applicationProfile:null!==(e=n.payload.applicationProfile)&&void 0!==e?e:{},assetsPath:n.payload.applicationProfile.assetsPath}),1==n.payload.loginStatus?(a.loggedUser=n.payload.user,a.loginStatus=!0):(a.loginStatus=!1,a.loggedUser=null),console.debug("result"),console.debug("action.payload.requestId: ",n.payload.requestId),console.debug("REQUEST_ID result.loginStatus:",a.loginStatus),n.payload.referer&&n.payload.referer.refresh(),a;case"do_login":return a=Object(m.a)(Object(m.a)({},t),{},{loginAttempt:!0,loginStatus:n.payload.loginStatus,loginKey:n.payload.loginKey,loginFailed:0==n.payload.loginStatus,loggedUser:n.payload.loggedUser});case"do_logout":return a=Object(m.a)(Object(m.a)({},t),{},{loginStatus:!1,loggedUser:null}),H(null),a;case"refresh_login":return a=Object(m.a)(Object(m.a)({},t),{},{loginStatus:n.payload.loginStatus,loggedUser:n.payload.loggedUser});case"get_logged_user":return a=Object(m.a)(Object(m.a)({},t),{},{loggedUser:n.payload.data});case"set_logged_user":return a=Object(m.a)(Object(m.a)({},t),{},{loggedUser:n.payload.user});case"SET_APPLICATION_PROFILE":return a=Object(m.a)(Object(m.a)({},t),{},{applicationProfile:n.payload.applicationProfile});default:return Object(m.a)({},t)}},C=function e(){Object(p.a)(this,e),this.name="",this.data=new Blob,this.dataUrl=""},A=n(27),S=function(e,t){var n=null==t?{}:t;return new Promise((function(t,a){A.post(e,n,{headers:K()}).then((function(e){z(e);var n=e.data;n.rawAxiosResponse=e,"00"==n.code?t(n):a(n)})).catch((function(e){console.error(e),a(e)}))}))},O=function(){function e(){Object(p.a)(this,e),this.updateProfile=function(e){var t={user:e},n=ee().concat("api/app/account/updateprofile");return S(n,t)},this.requestApplicationId=function(e,t){var n=ee()+"api/public/requestid";S(n,{}).then((function(t){if("00"==t.code){var n=t.rawAxiosResponse;z(n),console.debug("response header:",n.headers["access-token"]),e(t)}else alert("Error requesting app ID")})).catch((function(e){console.error("ERROR requestApplicationId: ",e),t()}))},this.requestApplicationIdNoAuth=function(e,t){(function(e,t){var n=null==t?{}:t;return new Promise((function(t,a){A.post(e,n,{headers:Y()}).then((function(e){var n=e.data;n.rawAxiosResponse=e,"00"==n.code?t(n):a(n)})).catch((function(e){console.error(e),a(e)}))}))})(ee()+"api/public/requestid",{}).then((function(t){"00"==t.code?e(t):alert("Error requesting app ID")})).catch((function(e){t(),console.error("ERROR requestApplicationIdNoAuth: ",e)}))}}return Object(s.a)(e,null,[{key:"getInstance",value:function(){return null==this.instance&&(this.instance=new e),this.instance}}]),e}();O.instance=void 0;var w=n(15),N=function(){function e(){var t=this;Object(p.a)(this,e),this.managementProperties=[],this.entityPropertyMap=new Map,this.getProductByCode=function(e){return t.getByKey("product","code",e)},this.getProductsByName=function(e){return t.getRecordsByKeyLike("product","name",e)},this.loadHealthCenters=function(){var e=ee().concat("api/app/entity/get");return S(e,{entity:"healthcenter",filter:{orderBy:"name",orderType:"asc"}})},this.updateApplicationProfile=function(e){var t={profile:e},n=ee().concat("api/app/setting/updateprofile");return S(n,t)}}return Object(s.a)(e,[{key:"setEntityProperty",value:function(e,t){t&&this.entityPropertyMap.set(e,t)}},{key:"getEntityProperty",value:function(e){if(void 0!=e)return this.entityPropertyMap.get(e)}},{key:"loadManagementProperties",value:function(e){var t=ee().concat("api/app/entity/managementpages");return S(t,{})}},{key:"loadEntityProperty",value:function(e){console.debug("Load entity prop: ",e);var t={entity:e},n=ee().concat("api/app/entity/configv2");return S(n,t)}},{key:"loadEntities",value:function(e){var t=ee().concat("api/app/entity/get");return S(t,e)}},{key:"loadAllEntities",value:function(e){var t={entity:e,filter:{limit:0,page:0}},n=ee().concat("api/app/entity/get");return S(n,t)}},{key:"getByKey",value:function(e,t,n){var a={entity:e,filter:{exacts:!0,limit:1,page:0,fieldsFilter:Object(w.a)({},t,n)}},r=ee().concat("api/app/entity/get");return S(r,a)}},{key:"getRecordsByKeyLike",value:function(e,t,n){var a={entity:e,filter:{limit:10,page:0,fieldsFilter:Object(w.a)({},t,n)}},r=ee().concat("api/app/entity/get");return S(r,a)}},{key:"getById",value:function(e,t){var n={entity:e,filter:{exacts:!0,limit:1,page:0,fieldsFilter:{id:t}}},a=ee().concat("api/app/entity/get");return S(a,n)}},{key:"getBy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a={entity:e,filter:{exacts:!0,limit:n,page:0,fieldsFilter:t}},r=ee().concat("api/app/entity/get");return S(r,a)}},{key:"delete",value:function(e,t){var n={entity:e,filter:{fieldsFilter:{id:t}}},a=ee().concat("api/app/entity/delete");return S(a,n)}},{key:"save",value:function(e,t,n){var a,r=Object(w.a)({entity:e},e,t);return a=n?ee().concat("api/app/entity/update"):ee().concat("api/app/entity/add"),S(a,r)}},{key:"generateReport",value:function(e){return function(e,t){var n=null==t?{}:t;return new Promise((function(t,a){A.post(e,n,{responseType:"blob",headers:K()}).then((function(e){z(e);var n=e.data;n.rawAxiosResponse=e;var a=e.headers["content-disposition"].split("filename=")[1],r=a.split("."),o=r[r.length-1],i=new Blob([n],{type:o}),s=window.URL.createObjectURL(i),l=new C;l.name=a,l.data=i,l.dataUrl=s,t(l)})).catch((function(e){console.error(e),a(e)}))}))}(ee().concat("api/app/report/records"),e)}}],[{key:"getInstance",value:function(){return null==this.instance&&(this.instance=new e),this.instance}}]),e}();N.instance=void 0;var j=function(){function e(){Object(p.a)(this,e)}return Object(s.a)(e,null,[{key:"getInstance",value:function(){return null==this.instance&&(this.instance=new e),this.instance}}]),e}();j.instance=void 0;var I={services:new function e(){Object(p.a)(this,e),this.userService=O.getInstance(),this.masterDataService=N.getInstance(),this.reportService=j.getInstance()}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return e},x=Object(h.c)({appState:g,userState:k,servicesState:M}),L={appState:f,userState:E,servicesState:I},R=n(27),P=function(e){return function(t){return function(n){if(!n.meta||"do_login"!==n.meta.type)return t(n);var a=n.meta.app;R.post(n.meta.url,{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var a=t.data,r="",o=!1;null!=a.code&&"00"==a.code&&(r=t.headers["access-token"],console.log("api_token: ",r),o=!0),z(t);var i=Object.assign({},n,{payload:{loginStatus:o,loginKey:r,loggedUser:a.user}});delete i.meta,e.dispatch(i)})).catch(console.log).finally((function(){a.endLoading()}))}}},U=function(e){return function(t){return function(n){if(!n.meta||"get_logged_user"!==n.meta.type)return t(n);var a=K();R.post(n.meta.url,n.payload,{headers:a}).then((function(t){var a=t.data;if(a){var r=Object.assign({},n,{payload:{data:a}});delete r.meta,e.dispatch(r)}else alert("Error performing request")})).catch(console.log).finally((function(e){n.meta.app.endLoading(),n.meta.app.refresh()}))}}},T=function(e){return function(t){return function(n){if(!n.meta||"do_logout"!==n.meta.type)return t(n);var a=n.meta.app;R.post(n.meta.url,n.payload,{headers:K()}).then((function(t){var a=!1;"00"==t.data.code?a=!0:alert("Logout Failed");var r=Object.assign({},n,{payload:{loginStatus:!a}});delete r.meta,e.dispatch(r)})).catch(console.log).finally((function(e){return a.endLoading()}))}}},B=function(e){return function(t){return function(n){if(!n.meta||"set_logged_user"!==n.meta.type)return t(n);var a=Object.assign({},n,{payload:n.payload});delete a.meta,e.dispatch(a)}}},D=function(e){return function(t){return function(n){if(!n.meta||"GET_MESSAGE"!==n.meta.type)return t(n);fetch(n.meta.url,{method:"post",body:JSON.stringify(n.payload),headers:K()}).then((function(e){return e.json()})).then((function(t){console.debug("sendChatMessageMiddleware Response:",t);var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},q=function(e){return function(t){return function(n){if(!n.meta||"store_message"!==n.meta.type)return t(n);var a=Object.assign({},n,{payload:n.payload});delete a.meta,e.dispatch(a)}}},Q=null,_=function(){return Q},F=function(){return Q=Object(h.d)(x,L,Object(h.a)(P,T,U,B,q,D))},K=function(){return{"Content-Type":"application/json",requestId:J(),Authorization:"Bearer "+G()}},Y=function(){return{"Content-Type":"application/json",requestId:J()}},V="medical-inventory-login-key",J=function(){var e=_();return null==e?"":e.getState().userState.requestId},G=function(){return Z(V)},z=function(e){if(e&&e.headers&&e.headers["access-token"]){var t=e.headers["access-token"];W(V,t)}},H=function(e){W(V,e)},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var r="expires="+a.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},Z=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},X="${contextPath}"==document.getElementById("rootPath").value||""==document.getElementById("rootPath").value,$=X?"/universal-good-shop/":document.getElementById("rootPath").value+"/",ee=function(){var e=X?"http://localhost:8080".concat($):$;return e},te=function(){return function(){var e=_();return null==e?"":e.getState().userState.assetsPath}()+"images/"},ne=ee(),ae=ne+"api/app/account/",re=function(e){return e.startLoading(),{type:"do_logout",payload:{},meta:{app:e,type:"do_logout",url:ae.concat("logout")}}},oe=n(9),ie=function(e){return{applicationProfile:e.userState.applicationProfile,loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus,requestId:e.userState.requestId,services:e.servicesState.services,mainApp:e.appState.mainApp,inventoryData:e.appState.inventoryData,inventoryConfig:e.appState.inventoryConfig}};n(70);function se(e){return e.realtime?r.a.createElement("div",{className:"row container-fluid bg-light",style:{margin:0,position:"fixed",zIndex:100}},r.a.createElement("div",{className:"col-1"},r.a.createElement("span",{style:{marginBottom:"3px"},className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})),r.a.createElement("div",{className:"col-11 progress",style:{padding:0,marginTop:"7px",height:"10px"}},r.a.createElement("div",{className:"bg-primary",style:{width:e.progress+"%",transitionDuration:"50ms",margin:0}}))):r.a.createElement("button",{className:"btn btn-dark ",type:"button",disabled:!0},r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),r.a.createElement("span",{className:" "},"Loading..."))}var le=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={timer:130,intervalId:0},a.update=function(){a.state.timer<0&&clearInterval(a.state.intervalId),console.log("tick"),a.setState({timer:a.state.timer-1}),a.state.timer<0&&a.props.endMessage&&a.props.endMessage()},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){if(1==this.props.withTimer){var e=setInterval(this.update,1,null);this.setState({intervalId:e})}}},{key:"render",value:function(){var e="message message-"+this.props.type;return 1==this.props.realtime?r.a.createElement(se,{progress:this.props.progress,realtime:this.props.realtime}):r.a.createElement("div",{className:e},r.a.createElement(se,{progress:this.props.progress,realtime:this.props.realtime}))}}]),n}(a.Component);function ce(e){return r.a.createElement("div",{className:"modal-backdrop",style:{backgroundColor:"rgba(100,100,100,0.7)"}})}function ue(e){return r.a.createElement("div",{className:"modal-footer "+e.className},r.a.createElement("button",{ref:e.yesButtonRef,type:"button",onClick:e.onYes,className:"btn btn-outline-primary"},"Yes"),e.yesOnly?null:r.a.createElement("button",{ref:e.noButtonRef,type:"button",onClick:e.onNo,className:"btn btn-outline-secondary"},"No"))}function pe(e){return r.a.createElement("div",{className:"modal-header "+e.className},r.a.createElement("h5",{className:"modal-title "+e.fontClassName,id:"exampleModalCenterTitle"},e.title),r.a.createElement("button",{onClick:e.onClose,type:"button",className:"close"},r.a.createElement("span",{"aria-hidden":"true",className:e.fontClassName},r.a.createElement("i",{className:"fas fa-times"}))))}var de=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).yesButtonRef=r.a.createRef(),a.noButtonRef=r.a.createRef(),a.onYes=function(e){a.props.onYes&&a.props.onYes(e)},a.onNo=function(e){a.props.onNo&&a.props.onNo(e)},a.onClose=function(e){a.props.onClose&&a.props.onClose(e)},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=1==this.props.isError;!e&&this.yesButtonRef.current?this.yesButtonRef.current.focus():e&&this.noButtonRef.current?this.noButtonRef.current.focus():e&&this.yesButtonRef.current&&this.yesButtonRef.current.focus()}},{key:"render",value:function(){var e=this.props.title?this.props.title:"Info",t=1==this.props.yesOnly,n=1==this.props.isError?"bg-danger":"bg-info";return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null),r.a.createElement("div",{className:"modal fade show",style:{display:"block"},id:"exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement(pe,{fontClassName:"text-light",className:n,title:e,onClose:this.onClose}),r.a.createElement("div",{className:"modal-body"}," ",this.props.children),r.a.createElement(ue,{noButtonRef:this.noButtonRef,yesButtonRef:this.yesButtonRef,yesOnly:t,onYes:this.onYes,onNo:this.onNo})))))}}]),n}(a.Component),me=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(p.a)(this,n),(a=t.call(this,e)).parentApp=void 0,a.authenticated=!0,a.state={updated:new Date},a.setPageTitle=function(e){document.title=e},a.validateLoginStatus=function(e){0!=a.authenticated&&a.isLoggedUserNull()?a.backToLogin():e&&e()},a.handleInputChange=function(e){var t=e.target,n="checkbox"==t.type?t.checked:t.value;a.setState(Object(w.a)({},t.name,n)),console.debug("input changed: ",t.name,n)},a.showCommonErrorAlert=function(e){var t;console.error(e),t=e.response&&e.response.data?e.response.data.message:e,a.showError("Operation Failed: "+t)},a.getServices=function(){return a.props.services},a.authenticated=r,a.state=Object(m.a)({},a.state),a.parentApp=a.props.mainApp,a}return Object(s.a)(n,[{key:"getApplicationProfile",value:function(){var e=new y;return e.name="SVG generator",e}},{key:"startLoading",value:function(e){this.parentApp.startLoading(e)}},{key:"endLoading",value:function(){this.parentApp.endLoading()}},{key:"doAjax",value:function(e,t,n,a){var r=this;this.startLoading(t);for(var o=arguments.length,i=new Array(o>4?o-4:0),s=4;s<o;s++)i[s-4]=arguments[s];e.apply(void 0,i).then((function(e){n&&n(e)})).catch((function(e){a?a(e):("string"==typeof e&&alert("Operation Failed: "+e),alert("resource not found"))})).finally((function(e){r.endLoading()}))}},{key:"commonAjax",value:function(e,t,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];this.doAjax.apply(this,[e,!1,t,n].concat(r))}},{key:"commonAjaxWithProgress",value:function(e,t,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];this.doAjax.apply(this,[e,!0,t,n].concat(r))}},{key:"getLoggedUser",value:function(){var e=this.props.loggedUser;if(e)return e.password="^_^",e}},{key:"isLoggedUserNull",value:function(){return 0==this.props.loginStatus||null==this.props.loggedUser}},{key:"isUserLoggedIn",value:function(){return 1==this.props.loginStatus&&null!=this.props.loggedUser}},{key:"showConfirmation",value:function(e){var t=this;return new Promise((function(n,a){t.parentApp.showAlert("Konfirmasi",e,!1,(function(e){n(!0)}),(function(e){n(!1)}))}))}},{key:"showConfirmationDanger",value:function(e){var t=this;return new Promise((function(n,a){t.parentApp.showAlertError("Konfirmasi",e,!1,(function(e){n(!0)}),(function(e){n(!1)}))}))}},{key:"showInfo",value:function(e){this.parentApp.showAlert("Info",e,!0,(function(){}))}},{key:"showError",value:function(e){this.parentApp.showAlertError("Error",e,!0,(function(){}))}},{key:"backToLogin",value:function(){this.authenticated&&null!=this.props.history&&this.props.history.push("/login")}},{key:"refresh",value:function(){this.setState({updated:new Date})}},{key:"componentDidUpdate",value:function(){1==this.authenticated&&this.isLoggedUserNull()&&(console.debug(typeof this,"BACK TO LOGIN"),this.validateLoginStatus())}}]),n}(a.Component),he=n(8),fe=(n(71),function e(){Object(p.a)(this,e),this.showNavLinks=!1}),ge=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e,!1)).state=new fe,a.buttonToggleNavRef=r.a.createRef(),a.toggleNavLinks=function(){a.setState({showNavLinks:!a.state.showNavLinks})},a.onLogout=function(e){var t=Object(l.a)(a);t.showConfirmation("Logout?").then((function(e){e&&t.props.performLogout(t.parentApp)}))},a.setMenu=function(e){a.state.showNavLinks&&a.buttonToggleNavRef.current&&a.buttonToggleNavRef.current.click(),a.props.setMenu(e)},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state.showNavLinks,n=function(){for(var e=[],t=0;t<v.length;t++){var n=v[t];e.push(n)}return e}(),a=this.getLoggedUser();return r.a.createElement("div",{className:"bg-dark container-fluid",style:{position:"fixed",zIndex:55,padding:0,margin:0}},r.a.createElement(ve,{label:this.getApplicationProfile().name}),r.a.createElement("nav",{id:"navbar",className:"navbar navbar-expand-lg navbar-dark bg-dark",style:{width:"100%"}},r.a.createElement("a",{id:"navbar-brand",className:"navbar-brand",href:"#"},this.getApplicationProfile().name),r.a.createElement("button",{ref:this.buttonToggleNavRef,onClick:this.toggleNavLinks,className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("i",{className:t?"fas fa-times":"fas fa-bars"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggler"},r.a.createElement("ul",{id:"navbar-top",className:"navbar-nav mr-auto mt-2 mt-lg-0"},n.map((function(t){if(null==t||t.authenticated&&!a)return null;var n=e.props.activeMenuCode==t.code;return r.a.createElement("li",{key:"header-menu-"+new String(t.code),className:"nav-item "+(n?"active nav-active":"nav-inactive")},r.a.createElement(he.b,{onClick:function(){return e.setMenu(t)},className:"nav-link  ",to:t.url},r.a.createElement("span",null,t.name)))}))))))}}]),n}(me),ve=function(e){return r.a.createElement("header",{id:"navbar-brand-top",style:{paddingLeft:"0.5rem"},className:"container-fluid"},r.a.createElement("a",{style:{fontSize:"15px"},className:"text-white navbar-brand",href:"#"},r.a.createElement("strong",null,e.label)))},be=Object(d.f)(Object(oe.b)(ie,(function(e){return{performLogout:function(t){return e(re(t))}}}))(ge)),ye=(n(73),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e;if(0==this.props.show)return null;var t=null!==(e=this.props.className)&&void 0!==e?e:"btn btn-outline-secondary";return this.props.to?r.a.createElement(he.b,Object.assign({},this.props.attributes,{to:this.props.to,style:this.props.style,onClick:this.props.onClick,className:t}),this.props.iconClassName?r.a.createElement("span",{style:{marginRight:"5px"}},r.a.createElement("i",{className:this.props.iconClassName})):null,this.props.children):r.a.createElement("a",Object.assign({},this.props.attributes,{tyle:this.props.style,onClick:this.props.onClick,className:t}),this.props.iconClassName?r.a.createElement("span",{style:{marginRight:"5px"}},r.a.createElement("i",{className:this.props.iconClassName})):null,this.props.children)}}]),n}(a.Component)),Ee=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e,!1)).render=function(){return r.a.createElement("section",{className:"container-fluid text-center",style:{marginTop:"50px"}},r.a.createElement(ke,null),r.a.createElement("p",null),r.a.createElement(ye,{className:"btn btn-success btn-lg",iconClassName:"fas fa-play",to:"/creator"},"Start"),r.a.createElement("span",{style:{margin:3}}),r.a.createElement("a",{href:"https://github.com/fajaralmu/svg-creator",target:"_blank",className:"btn btn-dark btn-lg"},r.a.createElement("span",{style:{marginRight:"5px"}},r.a.createElement("i",{className:"fas fa-code"})),"Source"))},a}return n}(me),ke=function(e){return r.a.createElement("svg",{width:"400",height:"250"},r.a.createElement("g",{fill:"transparent",className:"svg-path welcome-svg"},r.a.createElement("path",{stroke:"#20f08d","stroke-width":"4",d:"M 24.899993896484375 163.53334045410156 L 24.899993896484375 163.53334045410156  L 36.899993896484375 209.53334045410156  L 54.899993896484375 161.53334045410156  L 67.89999389648438 208.53334045410156  L 82.89999389648438 163.53334045410156 "}),r.a.createElement("path",{stroke:"#20f08d","stroke-width":"4",d:"M 125.89999389648438 167.53334045410156 L 125.89999389648438 167.53334045410156  L 96.89999389648438 167.53334045410156  L 96.89999389648438 209.53334045410156  L 128.89999389648438 209.53334045410156 "}),r.a.createElement("path",{stroke:"#20f08d","stroke-width":"4",d:"M 96.89999389648438 186.53334045410156 L 96.89999389648438 186.53334045410156  L 124.89999389648438 186.53334045410156 "}),r.a.createElement("path",{stroke:"#20f08d","stroke-width":"4",d:"M 139.89999389648438 163.53334045410156 L 139.89999389648438 163.53334045410156  L 139.89999389648438 209.53334045410156  L 168.89999389648438 209.53334045410156 "}),r.a.createElement("path",{stroke:"#20f08d","stroke-width":"4",d:"M 217.89999389648438 164.13333129882812 L 217.89999389648438 164.13333129882812  L 180.89999389648438 164.13333129882812  L 180.89999389648438 208.13333129882812  L 213.89999389648438 208.13333129882812 "}),r.a.createElement("circle",{stroke:"#20f08d","stroke-width":"4",cx:"248.89999389648438",cy:"187.53334045410156",r:"23.40939982143925"}),r.a.createElement("path",{stroke:"#20f08d","stroke-width":"4",d:"M 281.8999938964844 211.53334045410156 L 281.8999938964844 211.53334045410156  L 281.8999938964844 163.53334045410156  L 305.8999938964844 206.53334045410156  L 325.8999938964844 163.53334045410156  L 325.8999938964844 213.53334045410156 "}),r.a.createElement("path",{stroke:"#20f08d","stroke-width":"4",d:"M 372.8999938964844 166.53334045410156 L 372.8999938964844 166.53334045410156  L 340.8999938964844 166.53334045410156  L 340.8999938964844 210.53334045410156  L 372.8999938964844 210.53334045410156 "}),r.a.createElement("path",{stroke:"#20f08d","stroke-width":"4",d:"M 369.8999938964844 187.53334045410156 L 369.8999938964844 187.53334045410156  L 340.8999938964844 187.53334045410156 "}),r.a.createElement("rect",{className:"welcome-rect-svg",stroke:"#000","stroke-width":"4",x:"9.899993896484375",y:"150.8333282470703",width:"376",height:"69"})),r.a.createElement("g",null,r.a.createElement("rect",{focusable:"true",id:"svg-screen",fill:"transparent",x:"0",y:"0",width:"400",height:"400"}),r.a.createElement("g",{fill:"#cccccc",stroke:"rgb(0,0,0)","stroke-width":"1",className:"svg-points"})))},Ce=Object(d.f)(Object(oe.b)(ie)(Ee)),Ae=1,Se=function(){var e=new String((new Date).getUTCMilliseconds()).toString();return++Ae+"-"+e};var Oe,we=n(40),Ne=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e;if(0==this.props.show)return null;var t=null!==(e=this.props.className)&&void 0!==e?e:"btn btn-outline-secondary";return r.a.createElement("a",Object.assign({style:this.props.style},this.props.attributes,{onClick:this.props.onClick,className:t}),this.props.iconClassName?r.a.createElement("span",{style:this.props.children?{marginRight:"5px"}:{}},r.a.createElement("i",{className:this.props.iconClassName})):null,this.props.children)}}]),n}(a.Component),je=function e(){Object(p.a)(this,e),this.show=!0},Ie=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state=new je,a.hideModal=function(){a.setState({show:!1})},a.showModal=function(){a.setState({show:!0})},a}return Object(s.a)(n,[{key:"render",value:function(){var e;if(0==this.props.show)return null;var t=null!==(e=this.props.title)&&void 0!==e?e:"Title";if(1==this.props.toggleable&&0==this.state.show)return r.a.createElement(Ne,{style:{marginBottom:"10px"},onClick:this.showModal,iconClassName:"fas fa-angle-down"},"Show ",t);var n=function(e){e.style,e.show,e.footerContent,e.toggleable;return Object(we.a)(e,["style","show","footerContent","toggleable"])}(this.props);return r.a.createElement("div",Object.assign({},n,{className:"modal-content ",style:Object(m.a)(Object(m.a)({},n.style),{},{marginBottom:"10px"})}),r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},t),this.props.toggleable?r.a.createElement("button",{type:"button",className:"btn btn-sm",onClick:this.hideModal,"aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement("i",{className:"fas fa-times"}))):null),r.a.createElement("div",{className:"modal-body"},this.props.children),this.props.footerContent||1==this.props.showFooter?r.a.createElement("div",{className:"modal-footer"},this.props.footerContent):null)}}]),n}(a.Component),Me=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){if(0==this.props.show)return null;var e="vertical"==this.props.orientation?"vertical":"horizontal";return r.a.createElement("div",{style:this.props.style,className:"form-group "+this.props.className+" "+("vertical"==e?"":"row")},r.a.createElement("label",{className:"vertical"==e?"":"col-sm-3"},r.a.createElement("strong",null,this.props.label?this.props.label:null)),r.a.createElement("div",{className:"vertical"==e?"":"col-sm-9"},this.props.children))}}]),n}(a.Component),xe=(n(74),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n=this,a=this.props,o=this.props.active;return r.a.createElement("div",{className:"btn-group"},r.a.createElement(Ne,{className:"btn  btn-sm "+(o?"btn-dark":"btn-outline-dark"),onClick:function(e){return n.props.onClick(!0)}},null!==(e=a.yesLabel)&&void 0!==e?e:"Yes"),r.a.createElement(Ne,{className:"btn  btn-sm "+(0==o?"btn-dark":"btn-outline-dark"),onClick:function(e){return n.props.onClick(!1)}},null!==(t=a.noLabel)&&void 0!==t?t:"No"))}}]),n}(a.Component));!function(e){e[e.PATH=0]="PATH",e[e.CURVE=1]="CURVE",e[e.CIRCLE=2]="CIRCLE",e[e.RECT=3]="RECT"}(Oe||(Oe={}));var Le=function e(){Object(p.a)(this,e),this.x=0,this.y=0},Re=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Le);Re.newStraightLineInstance=function(e,t,n){var a=t.getBoundingClientRect(),r=new Re;return r.x=e.clientX-a.left,r.y=e.clientY-a.top,Math.abs(n.x-r.x)<Math.abs(n.y-r.y)?r.x=n.x:r.y=n.y,r},Re.newInstance=function(e,t){var n=t.getBoundingClientRect(),a=new Re;return a.x=e.clientX-n.left,a.y=e.clientY-n.top,a};var Pe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).width=0,e.height=0,e}return n}(Le),Ue=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).r=0,e}return n}(Le),Te=function e(){var t=this;Object(p.a)(this,e),this.points=[],this.closePath=!1,this.strokeColor="#20f08d",this.type=Oe.PATH,this.addPoint=function(e,n,a){var r;if((t.type==Oe.RECT||t.type==Oe.CIRCLE)&&t.points.length>=1)t.points[1]=Re.newInstance(e,n);else{if(a&&t.points.length>0){var o=t.points[t.points.length-1];r=Re.newStraightLineInstance(e,n,o)}else r=Re.newInstance(e,n);t.points.push(r)}},this.getCircleElement=function(){if(t.type!=Oe.CIRCLE||t.points.length<2)return new Ue;t.adjustXY();var e=t.points[0],n=t.points[1],a=new Ue;return a.x=e.x,a.y=e.y,a.r=Be(e,n),a},this.getRectElement=function(){if(t.type!=Oe.RECT||t.points.length<2)return new Pe;t.adjustXY();var e=t.points[0],n=t.points[1],a=new Pe;return a.x=e.x,a.y=e.y,a.width=n.x-e.x,a.height=n.y-e.y,a},this.adjustXY=function(){var e=t.points[0],n=t.points[1];if(n.x<e.x){var a=n.x;n.x=e.x,e.x=a}if(n.y<e.y){var r=n.y;n.y=e.y,e.y=r}},this.getPath=function(){if(t.points.length<2)return"";for(var e=t.points[0],n="M "+e.x+" "+e.y,a=0;a<t.points.length;a++){var r=t.points[a];n+=" L "+r.x+" "+r.y+" "}return n+(t.closePath?"Z":"")},this.html=function(){if(t.type==Oe.RECT){var e=t.getRectElement();return'<rect stroke="'+t.strokeColor+'"  x="'+e.x+'" y="'+e.y+'" height="'+e.width+'" width="'+e.height+'"  />'}if(t.type==Oe.CIRCLE){var n=t.getCircleElement();return'<circle stroke="'+t.strokeColor+'"  cx="'+n.x+'" cy="'+n.y+'" r="'+n.r+'"  />'}return'<path stroke="'+t.strokeColor+'" d="'+t.getPath()+'" />'}};Te.newInstance=function(e){var t=new Te;return t.type=e,t},Te.getOutput=function(e,t){for(var n='<svg width="'+t+'" height="'+t+'"><g stroke="black" fill="transparent" stroke-width="2">\n        {SVG}</g></svg>',a="",r=0;r<e.length;r++){a+=e[r].html()}return n.replace("{SVG}",a)};var Be=function(e,t){var n=t.x-e.x,a=t.y-e.y;return Math.sqrt(Math.pow(n,2)+Math.pow(a,2))},De=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).add=function(t){e.props.addSvgElement(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.elements;return r.a.createElement(a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h2",{className:"text-center"},"Setting"),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(Me,{label:"Add Items"},r.a.createElement("div",{className:"btn-group"},r.a.createElement("span",{className:"btn btn-dark"},"  ",t.length),r.a.createElement(ye,{onClick:function(t){e.add(Oe.PATH)},iconClassName:"fas fa-draw-polygon"}),r.a.createElement(ye,{onClick:function(t){e.add(Oe.CIRCLE)},iconClassName:"far fa-circle"}),r.a.createElement(ye,{onClick:function(t){e.add(Oe.RECT)},iconClassName:"far fa-square"}))),r.a.createElement(Me,{label:"Edit Mode"},r.a.createElement(xe,{active:1==this.props.editMode,onClick:this.props.setEditMode}),r.a.createElement("p",null,r.a.createElement("i",null,0==this.props.editMode?"Select path to edit":null))),r.a.createElement(Me,{label:"Select Element"},r.a.createElement("select",{name:"selectedIndex",value:this.props.selectedIndex,onChange:this.props.handleInputChange,className:"form-control"},qe(t.length).map((function(e,t){return r.a.createElement("option",{key:"select-index-"+t,value:e},e)})))),r.a.createElement(Me,{label:"Size"},r.a.createElement("input",{autoComplete:"off",type:"number",value:this.props.size,onChange:this.props.handleInputChange,name:"size",className:"form-control"})),r.a.createElement(Me,{label:"Point Color"},r.a.createElement("input",{autoComplete:"off",type:"color",value:this.props.pointColor,onChange:this.props.handleInputChange,name:"pointColor",className:"form-control"})),r.a.createElement(Me,null,r.a.createElement(ye,{onClick:this.props.showOutput},"Show Output")),r.a.createElement(Me,{label:"Ouput"},r.a.createElement("code",null,this.props.output))))}}]),n}(a.Component),qe=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t},Qe=function e(){Object(p.a)(this,e),this.svgElements=[new Te],this.pointColor="#cccccc",this.size=400,this.selectedIndex=0,this.editMode=!0,this.output=void 0},_e=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e,!1)).state=new Qe,a.svgWorkSheetRef=r.a.createRef(),a.straightLine=!1,a.isMouseDown=!1,a.initKeyListener=function(){window.onkeypress=a.onkeypress,window.onkeyup=a.onkeyup},a.setActiveIndex=function(e){a.state.editMode||a.setState({selectedIndex:e})},a.onkeyup=function(e){a.straightLine=!1},a.onkeypress=function(e){if(e instanceof KeyboardEvent){var t=e;"h"==t.key?a.straightLine=!0:"z"==t.key&&a.updateClosePath(!a.getSelectedElement().closePath)}},a.onMouseDown=function(e){a.isMouseDown=!0},a.onMouseUp=function(e){a.isMouseDown=!1},a.onMouseMove=function(e){a.isMouseDown},a.addPoint=function(e){var t=e.target;if(t)if("svg-screen"===t.id){console.debug("straightLine: ",a.straightLine);var n=a.getSelectedElement();n.addPoint(e,t,a.straightLine),a.updateSelectedElement(n)}else console.debug("TAG NAME: ",t.tagName)},a.getSelectedElement=function(){return a.state.svgElements[a.state.selectedIndex]},a.setElementType=function(e){if(!a.state.editMode){var t=e.target;a.setState({elementType:t.value})}},a.addPointToCurrentElement=function(e){var t=a.getSelectedElement();t.points.push(e),a.updateSelectedElement(t)},a.updateSelectedElementStrokeColor=function(e){var t=e.target,n=a.getSelectedElement();n.strokeColor=t.value,a.updateSelectedElement(n)},a.updateSelectedElement=function(e){var t=a.state.svgElements;t[a.state.selectedIndex]=e,a.setState({svgElements:t})},a.updateClosePath=function(e){var t=a.getSelectedElement();t.closePath=e,a.updateSelectedElement(t)},a.addSvgElement=function(e){var t=a.state.svgElements;t.push(Te.newInstance(e)),a.setState({editMode:!0,svgElements:t,selectedIndex:t.length-1})},a.removeSelectedElement=function(){var e=a.state.svgElements;if(e.length<=1)try{e[a.state.selectedIndex].points=[],a.setState({svgElements:e})}catch(n){console.error(n)}else{for(var t=0;t<e.length;t++)if(t==a.state.selectedIndex){e.splice(t,1);break}a.setState({svgElements:e,selectedIndex:e.length-1})}},a.removePoint=function(e){console.debug("removePoint : ",e);for(var t=a.getSelectedElement(),n=0;n<t.points.length;n++)if(n==e){t.points.splice(n,1);break}a.updateSelectedElement(t)},a.setEditMode=function(e){a.setState({editMode:e})},a.showOutput=function(){a.setState({output:Te.getOutput(a.state.svgElements,a.state.size)})},a.render=function(){var e=a.state.svgElements,t=a.getSelectedElement(),n=a.state.pointColor,o=a.state.size,i=a.state.selectedIndex,s=a.state.editMode;return r.a.createElement(Ie,{title:"Draw Your Svg Path"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 svg-wrapper text-center",style:{backgroundImage:"url("+a.props.imageData+")"}},r.a.createElement("svg",{className:" svg-sheet",width:o,height:o},r.a.createElement("g",{fill:"transparent",className:"svg-path"},e.map((function(e,t){if(e.type==Oe.PATH)return r.a.createElement("path",{stroke:e.strokeColor,onClick:function(e){return a.setActiveIndex(t)},className:0==a.state.editMode?"path-selectable":"path-regular",strokeWidth:i==t?4:2,key:"path-"+t,d:e.getPath()});if(e.type==Oe.RECT){var n=e.getRectElement();return r.a.createElement("rect",{stroke:e.strokeColor,onClick:function(e){return a.setActiveIndex(t)},className:0==a.state.editMode?"path-selectable":"path-regular",strokeWidth:i==t?4:2,key:"path-"+t,x:n.x,y:n.y,width:n.width,height:n.height})}if(e.type==Oe.CIRCLE){var o=e.getCircleElement();return r.a.createElement("circle",{stroke:e.strokeColor,onClick:function(e){return a.setActiveIndex(t)},className:0==a.state.editMode?"path-selectable":"path-regular",strokeWidth:i==t?4:2,key:"path-"+t,cx:o.x,cy:o.y,r:o.r})}return r.a.createElement(r.a.Fragment,null,Oe[e.type])}))),s?r.a.createElement("g",null,r.a.createElement("rect",{ref:a.svgWorkSheetRef,focusable:"true",id:"svg-screen",onClick:a.addPoint,onMouseDown:a.onMouseDown,onMouseUp:a.onMouseUp,onMouseMove:a.onMouseMove,fill:"transparent",x:0,y:0,width:o,height:o}),r.a.createElement(Fe,{pointColor:n,element:t,removePoint:a.removePoint})):null)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("form",{className:"container-fluid  ",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("h4",null,r.a.createElement("i",{className:"fas fa-palette"}),"\xa0Options"),r.a.createElement(Me,{label:"Type"},Oe[t.type]),r.a.createElement(Me,{label:"Selected Index"},a.state.selectedIndex),r.a.createElement(Me,{label:"Close Path"},r.a.createElement(xe,{active:t.closePath,onClick:a.updateClosePath}),r.a.createElement("br",null),r.a.createElement("p",null,"Press ",r.a.createElement("span",{className:"badge badge-dark"},"Z")," to toggle Close Path")),r.a.createElement(Me,{label:"Stroke Color"},r.a.createElement("input",{type:"color",className:"form-control",value:t.strokeColor,onChange:a.updateSelectedElementStrokeColor})),r.a.createElement(Me,null,r.a.createElement("p",null,"HOLD ",r.a.createElement("span",{className:"badge badge-dark"},"H")," to make straightline"),r.a.createElement(ye,{onClick:a.removeSelectedElement,iconClassName:"fas fa-times",className:"btn btn-danger btn-sm"},"Delete Path"))))),r.a.createElement("p",null),r.a.createElement(De,{elements:e,handleInputChange:a.handleInputChange,setEditMode:a.setEditMode,showOutput:a.showOutput,addSvgElement:a.addSvgElement,editMode:a.state.editMode,selectedIndex:a.state.selectedIndex,size:a.state.size,pointColor:a.state.pointColor,output:a.state.output}))},a.initKeyListener(),a}return n}(me),Fe=function(e){return r.a.createElement("g",{fill:e.pointColor,stroke:"rgb(0,0,0)",strokeWidth:1,className:"svg-points"},e.element.points.map((function(t,n){return r.a.createElement("circle",{strokeWidth:0==n?3:1,className:"svg-point",onClick:function(t){t.preventDefault(),e.removePoint(n)},key:"point-_"+n,cx:t.x,cy:t.y,r:3})})))},Ke=Object(d.f)(Object(oe.b)(ie)(_e)),Ye=function e(){Object(p.a)(this,e),this.imageData="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACECAIAAADN8VQEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEySURBVHhe7dEBDQAwEAOh+Tfd2fhLwAJvnCcpQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCk87YPMPvEClHp6T0AAAAASUVORK5CYII="},Ve=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e,!1)).state=new Ye,a.onFileChange=function(e){var t,n=e.target;(t=n,new Promise((function(n,a){try{var r=new FileReader;r.readAsDataURL(t.files[0]),console.debug("fileInput.files[0]: ",t.files[0]),r.onload=function(){n(new String(r.result).toString())},r.onerror=function(e){a(e)}}catch(e){a(e)}}))).then((function(e){a.setState({imageData:e})}))},a.render=function(){return r.a.createElement("section",{className:"container-fluid",style:{marginTop:"50px"}},r.a.createElement("h2",null,"Generate Path SVG"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Je,{onChange:a.onFileChange})),r.a.createElement("div",{className:"col-12"},a.state.imageData?r.a.createElement(Ke,{imageData:a.state.imageData}):null)))},a}return n}(me),Je=function(e){return r.a.createElement(Ie,{title:"Select Template Image"},r.a.createElement("form",null,r.a.createElement(Me,{label:"Select"},r.a.createElement("input",{onChange:e.onChange,type:"file",className:"form-control"}))))},Ge=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e,!1)).ref=r.a.createRef(),a.setSidebarMenus=function(e){a.props.setSidebarMenus(e)},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/home",render:function(e){return r.a.createElement(Ce,null)}}),r.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(Ce,null)}}),r.a.createElement(d.a,{exact:!0,path:"/creator",render:function(e){return r.a.createElement(Ve,null)}})))}}]),n}(me),ze=Object(d.f)(Object(oe.b)(ie,(function(e){return{}}))(Ge)),He=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=Se(),e.name=void 0,e.description=void 0,e.url=void 0,e.pathVariables=void 0,e.iconUrl=void 0,e.color=void 0,e.fontColor=void 0,e.active=!1,e.menuClass="fas fa-folder",e.authenticated=!1,e.showSidebar=!1,e.subMenus=void 0,e}return n}(b);He.defaultMenuIconClassName="fas fa-folder",He.getIconClassName=function(e){return void 0==e.menuClass?He.defaultMenuIconClassName:e.menuClass};n(75);var We=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e,!1)).isSidebarActive=function(e){var t=a.props.parentMenu;if(null==t)return!1;var n=a.props.location.pathname;return t.url+"/"+e.url==n},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(e){var t=e.srcElement.body.scrollTop;Math.min(0,t/3-60)}},{key:"render",value:function(){var e=this,t=this.props.parentMenu;if(null==t)return null;var n=null==this.props.sidebarMenus?[]:this.props.sidebarMenus;return r.a.createElement("ul",{id:"sidebar",className:"sidebar-nav bg-light"},r.a.createElement(Ze,{show:null!=t,brand:t}),n.map((function(n){var a=e.isSidebarActive(n)?"menu-active":"regular-menu";return r.a.createElement("li",{className:"sidebar-item "+a,key:"SIDEBAR_"+n.code},r.a.createElement(he.b,{to:t.url+"/"+n.url},r.a.createElement("span",{className:"sidebar-icon"},r.a.createElement("i",{className:He.getIconClassName(n)})),r.a.createElement("span",{className:"menu-label"},n.name)))})))}}]),n}(me),Ze=function(e){return 0==e.show?null:r.a.createElement(a.Fragment,null," ",r.a.createElement("li",{id:"sidebar-brand",className:"sidebar-brand",style:{marginBottom:"20px"}},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"10px",paddingBottom:"10px"}},r.a.createElement("h3",{className:"text-dark"},r.a.createElement("i",{className:He.getIconClassName(e.brand)})),r.a.createElement(he.b,{to:e.brand.url,style:{textDecoration:"none"}},r.a.createElement("h4",{className:"text-dark"},e.brand.name)))),r.a.createElement("li",{className:"sidebar-item-brand "},r.a.createElement(he.b,{to:e.brand.url},r.a.createElement("span",{className:"sidebar-icon"},r.a.createElement("i",{className:He.getIconClassName(e.brand)})))))},Xe=Object(d.f)(Object(oe.b)(ie,(function(e){return{performLogout:function(t){return e(re(t))}}}))(We)),$e=(n(76),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e,!1)).state={showSidebar:!1,activeMenuCode:null,menu:void 0,sidebarMenus:[]},a.currentPathName="",a.setMenuNull=function(){console.warn("SET MENU NULL"),a.setState({menu:void 0,showSidebar:!1,activeMenuCode:null,sidebarMenus:null})},a.setMenu=function(e){null!=e&&(console.debug("SET MENU: ",e.code),a.setState({menu:e,sidebarMenus:null,showSidebar:e.showSidebar,activeMenuCode:e.code}))},a.setSidebarMenus=function(e){a.setState({sidebarMenus:e})},a.setCurrentMenu=function(){var e=function(e){var t=e.split("/");console.debug("pathName: ",e);var n=t[0];return""==n.trim()&&(n=t[1]),n}(a.props.location.pathname);if(e!=a.currentPathName){a.currentPathName=e;var t=function(e){try{for(var t=0;t<v.length;t++){var n=v[t];if(n.url=="/"+e)return n}return null}catch(a){return null}}(e);null==t?a.setMenuNull():a.setMenu(t)}},a.getSubMenus=function(){var e,t;return a.state.menu&&null!=a.state.menu.subMenus&&(null===(e=a.state.menu.subMenus)||void 0===e?void 0:e.length)>0?null===(t=a.state.menu)||void 0===t?void 0:t.subMenus:a.state.sidebarMenus?a.state.sidebarMenus:null},a.state=Object(m.a)({},a.state),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setCurrentMenu()}},{key:"componentDidUpdate",value:function(){this.setCurrentMenu()}},{key:"render",value:function(){var e=1==this.state.showSidebar;return r.a.createElement(a.Fragment,null,r.a.createElement(be,{setMenuNull:this.setMenuNull,activeMenuCode:this.state.activeMenuCode,setMenu:this.setMenu}),r.a.createElement("div",{id:"page-content",className:"container-fluid"},r.a.createElement("div",{className:"container-fluid",style:{zIndex:1,paddingTop:"55px"},id:e?"app-content":"content"},r.a.createElement(ze,{setSidebarMenus:this.setSidebarMenus})),1==e?r.a.createElement(Xe,{sidebarMenus:this.getSubMenus(),parentMenu:this.state.menu}):null))}}]),n}(me)),et=Object(d.f)(Object(oe.b)(ie,(function(e){return{performLogout:function(t){return e(re(t))}}}))($e)),tt=function e(){Object(p.a)(this,e),this.loading=!1,this.loadingPercentage=0,this.requestId=void 0,this.mainAppUpdated=new Date,this.showAlert=!1,this.realtime=!1,this.appIdStatus="Loading App Id",this.errorRequestAppId=!1},nt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state=new tt,a.loadings=0,a.alertTitle="Info",a.alertBody=null,a.alertIsYesOnly=!0,a.alertIsError=!1,a.alertOnYesCallback=function(e){},a.alertOnCancelCallback=function(e){},a.clientRef=r.a.createRef(),a.userService=void 0,a.alertCallback={title:"Info",message:"Info",yesOnly:!1,onOk:function(){},onNo:function(){}},a.requestAppId=function(){a.setState({errorRequestAppId:!1,appIdStatus:"Authenticating application"}),a.userService.requestApplicationId((function(e){a.props.setRequestId(e,Object(l.a)(a)),a.refresh()}),a.retryRequestAppId)},a.retryRequestAppId=function(){a.setState({errorRequestAppId:!1,appIdStatus:"Authenticating application (Retrying)"}),a.userService.requestApplicationIdNoAuth((function(e){a.props.setRequestId(e,Object(l.a)(a))}),a.errorRequestingAppId)},a.errorRequestingAppId=function(){a.setState({errorRequestAppId:!0})},a.smoothEndLoading=function(){!function(e,t){var n=setTimeout((function(){e(),clearTimeout(n)}),t)}((function(){a.setState({loading:!1,loadingPercentage:0})}),100)},a.props.setMainApp(Object(l.a)(a)),a.userService=a.props.services.userService,a}return Object(s.a)(n,[{key:"refresh",value:function(){this.setState({mainAppUpdated:new Date})}},{key:"incrementLoadings",value:function(){this.loadings++}},{key:"decrementLoadings",value:function(){this.loadings--,this.loadings<0&&(this.loadings=0)}},{key:"startLoading",value:function(e){this.incrementLoadings(),this.setState({loading:!0,realtime:e})}},{key:"endLoading",value:function(){try{this.decrementLoadings(),0==this.loadings&&(this.state.realtime?this.setState({loadingPercentage:100},this.smoothEndLoading):this.setState({loading:!1,loadingPercentage:0}))}catch(e){console.error(e)}}},{key:"handleMessage",value:function(e){var t,n=null!==(t=e.percentage)&&void 0!==t?t:0,a=Math.floor(n);(n<0||n>100)&&this.endLoading(),this.setState({loadingPercentage:a})}},{key:"showAlert",value:function(e,t,n,a,r){this.alertTitle=e,this.alertBody=t,this.alertIsYesOnly=n;var o=this;this.alertOnYesCallback=function(e){o.dismissAlert(),a(e)},n||(this.alertOnCancelCallback=function(e){o.dismissAlert(),null!=r&&r(e)}),this.setState({showAlert:!0})}},{key:"dismissAlert",value:function(){this.alertIsError=!1,this.setState({showAlert:!1})}},{key:"showAlertError",value:function(e,t,n,a,r){this.alertIsError=!0,this.showAlert(e,t,n,a,r)}},{key:"componentDidUpdate",value:function(){this.props.applicationProfile&&function(e){if(e.pageIcon){var t=document.querySelector('link[rel="shortcut icon"]')||document.querySelector('link[rel="icon"]');t||((t=document.createElement("link")).id="favicon",t.setAttribute("rel","shortcut icon"),document.head.appendChild(t)),t.setAttribute("href",te()+e.pageIcon)}}(this.props.applicationProfile)}},{key:"componentDidMount",value:function(){this.setState({loadingPercentage:0})}},{key:"render",value:function(){var e=this;return r.a.createElement(a.Fragment,null,r.a.createElement(rt,{realtime:this.state.realtime,loading:this.state.loading,loadingPercentage:this.state.loadingPercentage}),this.state.showAlert?r.a.createElement(de,{title:this.alertTitle,isError:this.alertIsError,onClose:function(t){return e.setState({showAlert:!1})},yesOnly:this.alertIsYesOnly,onYes:this.alertOnYesCallback,onNo:this.alertOnCancelCallback},this.alertBody):null,r.a.createElement(et,null),r.a.createElement(at,null))}}]),n}(a.Component),at=function(e){return r.a.createElement("footer",{className:"container-fluid text-center bg-light"},r.a.createElement("p",null),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-coffee",style:{marginRight:5}}),"fajaralmu 2021"),r.a.createElement("p",null))};function rt(e){return 1==e.loading?r.a.createElement(le,{realtime:e.realtime,progress:e.loadingPercentage,text:"Please wait...",type:"loading"}):null}var ot=Object(d.f)(Object(oe.b)(ie,(function(e){return{setMainApp:function(t){return e({type:"SET_MAIN_APP",payload:t,meta:{type:"SET_MAIN_APP"}})},setRequestId:function(t,n){return e(function(e,t){var n={type:"SET_REQUEST_ID",payload:Object(m.a)({loginStatus:e.loggedIn,referer:t},e),meta:{type:"SET_REQUEST_ID"}};return console.debug("setRequestId: ",n),n}(t,n))}}}))(nt)),it=function(e){var t=F();return r.a.createElement(oe.a,{store:t},r.a.createElement(he.a,null,r.a.createElement(ot,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.97280b31.chunk.js.map