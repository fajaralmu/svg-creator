{"version":3,"sources":["redux/appReducer.ts","redux/types.js","constant/Menus.ts","models/BaseEntity.ts","models/ApplicationProfile.ts","redux/userReducer.js","models/common/AttachmentInfo.ts","services/Promises.ts","services/UserService.ts","services/MasterDataService.ts","services/ReportService.ts","redux/servicesReducer.ts","services/Services.ts","redux/reducers.ts","middlewares/UserMiddleware.ts","middlewares/RealtimeChatMiddleware.js","redux/configureStore.js","middlewares/Common.ts","constant/Url.js","redux/actionCreators.ts","constant/stores.js","component/loader/Loader.js","component/alert/Alert.js","component/BaseComponent.tsx","component/navigation/Header.tsx","component/navigation/AnchorWithIcon.tsx","component/pages/home/HomeMain.tsx","utils/StringUtil.ts","utils/ComponentUtil.ts","component/navigation/AnchorButton.tsx","component/container/Modal.tsx","component/form/FormGroup.tsx","component/navigation/ToggleButton.tsx","models/elements/BaseElement.ts","models/elements/SvgPoint.ts","models/elements/Rect.ts","models/elements/Circle.ts","constant/ElementType.ts","models/elements/QuadraticCurve.ts","models/elements/Ellipse.ts","models/elements/Path.ts","models/elements/SvgItem.ts","component/pages/creator/SettingForm.tsx","component/pages/creator/creatorHelper.tsx","component/navigation/AnchorWithSvg.tsx","component/pages/creator/Points.tsx","component/pages/creator/SvgCreator.tsx","component/pages/creator/CreatorMain.tsx","component/pages/creator/baseTemplate.ts","component/layout/ApplicationContent.tsx","models/common/Menu.ts","component/navigation/SideBar.tsx","component/layout/MainLayout.tsx","App.tsx","utils/EventUtil.ts","Root.tsx","serviceWorker.js","index.js"],"names":["initState","mainApp","undefined","inventoryData","inventoryConfig","reducer","state","action","type","payload","menus","code","name","url","menuClass","active","authenticated","showSidebar","BaseEntity","id","createdDate","modifiedDate","nulledFields","ApplicationProfile","appCode","shortDescription","about","welcomingMessage","address","contact","website","iconUrl","pageIcon","backgroundUrl","footerIconClass","color","fontColor","loginKey","loginStatus","loginFailed","menuData","loggedUser","loginAttempt","requestId","applicationProfile","assetsPath","result","console","debug","user","referer","refresh","setLoginKeyCookie","data","AttachmentInfo","Blob","dataUrl","axios","require","commonAjaxPostCalls","endpoint","request","Promise","resolve","reject","post","headers","commonAuthorizedHeader","then","axiosResponse","updateAccessToken","response","rawAxiosResponse","catch","e","error","UserService","updateProfile","contextPath","concat","requestApplicationId","callbackSuccess","callbackError","alert","requestApplicationIdNoAuth","commonHeader","commonAjaxPublicPostCalls","this","instance","MasterDataService","managementProperties","entityPropertyMap","Map","getProductByCode","getByKey","getProductsByName","getRecordsByKeyLike","loadHealthCenters","entity","filter","orderBy","orderType","updateApplicationProfile","profile","set","get","req","limit","page","key","value","exacts","fieldsFilter","model","editMode","responseType","fileName","split","rawSplit","extension","length","blob","window","URL","createObjectURL","attachmentInfo","commonAjaxPostCallsWithBlob","ReportService","services","userService","getInstance","masterDataService","reportService","rootReducer","combineReducers","appState","shopReducer","userState","userReducer","servicesState","servicesReducers","initialState","performLoginMiddleware","store","next","meta","app","responseJson","loginSuccess","log","common","newAction","Object","assign","dispatch","finally","endLoading","getLoggedUserMiddleware","param","performLogoutMiddleware","logoutSuccess","setLoggedUserMiddleware","getMessagesMiddleware","fetch","method","body","JSON","stringify","json","err","storeChatMessageLocallyMiddleware","getStore","configureStore","createStore","applyMiddleware","userMiddleware","realtimeChatMiddleware","getRequestId","getLoginKey","LOGIN_KEY","getState","getCookie","accessToken","setCookie","cookieValue","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","ca","decodeURIComponent","i","c","charAt","substring","indexOf","devMode","getElementById","rootValue","baseImageUrl","getAssetsPath","usedHost","apiAccount","performLogout","startLoading","mapCommonUserStateToProps","LoaderContent","props","realtime","className","style","margin","position","zIndex","marginBottom","role","aria-hidden","padding","marginTop","height","width","progress","transitionDuration","disabled","Loader","timer","intervalId","update","clearInterval","setState","endMessage","withTimer","setInterval","Component","Backdrop","backgroundColor","Footer","ref","yesButtonRef","onClick","onYes","yesOnly","noButtonRef","onNo","Header","fontClassName","title","onClose","Alert","React","createRef","isError","current","focus","headerClassName","display","tabIndex","aria-labelledby","children","BaseComponent","parentApp","updated","setPageTitle","validateLoginStatus","callback","isLoggedUserNull","backToLogin","handleInputChange","event","target","checked","showCommonErrorAlert","message","showError","getServices","withProgress","successCallback","errorCallback","params","doAjax","password","showAlert","showAlertError","history","push","IState","showNavLinks","buttonToggleNavRef","toggleNavLinks","onLogout","showConfirmation","ok","setMenu","menu","click","menuSet","element","getMenus","getLoggedUser","label","getApplicationProfile","href","data-toggle","data-target","aria-controls","aria-expanded","aria-label","map","isActive","activeMenuCode","String","to","NavBarTop","paddingLeft","fontSize","withRouter","connect","AnchorWithIcon","show","btnClassName","attributes","iconClassName","marginRight","tyle","HomeMain","render","Welcome","xmlns","stroke","fill","stroke-width","x","y","PenSvg","index","uniqueId","string","getUTCMilliseconds","toString","AnchorButton","Modal","hideModal","showModal","toggleable","footerContent","showFooter","FormGroup","orientation","ToggleButton","yesLabel","noLabel","BaseElement","strokeColor","strokeWidth","init","html","SvgPoint","newInstanceFromReference","refPoint","p","newStraightLineInstance","prevPoint","dim","getBoundingClientRect","clientX","left","clientY","top","Math","abs","newInstanceFromEvent","parseInt","toFixed","Rect","r","newInstance","start","end","getBoundingRect","xMin","xMax","yMin","yMax","Circle","calculateRadius","point1","point2","radiusX","radiusY","radius","sqrt","pow","middlePoint","radiusPoint","ElementType","QuadraticCurve","closePath","endPoints","slopePoints","getPath","fullPath","slope","points","startPoint","Ellipse","rx","ry","middle","radiusXPoint","radiusYPoint","Path","firstPoint","path","point","SvgItem","PATH","setClosePath","val","setStrokeColor","getPointByIndex","addPoint","RECT","CIRCLE","pointCount","ELLIPSE","addPointByEvent","straightLine","getCircleElement","adjustPoints1And2","getQuadCurveElement","CURVE","getEllipseElement","point3","getRectElement","xTemp","yTemp","getPathElement","getElement","getMaxAxis","getMinAxis","axis","max","res","getOutput","items","w","h","svg","paths","replace","GeneralForm","elements","onSubmit","preventDefault","selectedIndex","onChange","array","autoComplete","pointColor","showOutput","output","arr","WorksheetRect","size","focusable","AnchorWithSvg","src","icon","Points","onMouseOut","onMouseOver","cx","cy","State","svgElements","selectedPoint","SvgCreator","initKeyListener","onkeypress","onkeyup","setActiveIndex","KeyboardEvent","keyEvent","updateClosePath","getSelectedElement","setEditMode","updateSelectedElement","tagName","setElementType","elementType","addPointToCurrentElement","updateSelectedElementProp","addSvgElement","removeSelectedElement","splice","onPointClick","addPointFromReferencePoint","removePoint","filteredElements","setSelectedPoint","removeSelectedPoint","boundingRect","backgroundImage","imageData","rect","circle","curve","ellipse","el","CreatorMain","onFileChange","fileInput","reader","FileReader","readAsDataURL","files","onload","onerror","InputImage","ApplicationContent","setSidebarMenus","exact","Menu","description","pathVariables","subMenus","defaultMenuIconClassName","getIconClassName","SideBar","isSidebarActive","parentMenu","pathName","location","pathname","addEventListener","handleScroll","removeEventListener","scrollTop","srcElement","min","sidebarMenus","brand","menuClassName","Brand","textAlign","paddingTop","paddingBottom","textDecoration","MainLayout","currentPathName","setMenuNull","warn","setCurrentMenu","pathRaw","firstPath","trim","extractMenuPath","getMenuByMenuPath","getSubMenus","loading","loadingPercentage","mainAppUpdated","appIdStatus","errorRequestAppId","App","loadings","alertTitle","alertBody","alertIsYesOnly","alertIsError","alertOnYesCallback","alertOnCancelCallback","clientRef","alertCallback","onOk","requestAppId","setRequestId","retryRequestAppId","errorRequestingAppId","smoothEndLoading","intervalMs","timeout","setTimeout","clearTimeout","doItLater","setMainApp","incrementLoadings","decrementLoadings","msg","percentageFloat","percentage","floor","yesCallback","noCallback","dismissAlert","link","querySelector","createElement","setAttribute","head","appendChild","updateFavicon","Loading","text","ret","loggedIn","actions","Root","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.298a892e.chunk.js","sourcesContent":["import * as types from './types'\r\n\r\nexport const initState = { \r\n    mainApp: undefined,\r\n    inventoryData: undefined,\r\n    inventoryConfig: undefined,\r\n\r\n};\r\n\r\nexport const reducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case types.SET_MAIN_APP:\r\n              \r\n            return { ...state, mainApp: action.payload }; \r\n        case types.SET_INVENTORY_DATA:\r\n\r\n        return {...state, inventoryData: action.payload.inventoryData, inventoryConfig: action.payload.inventoryConfig}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","/**\r\n * \r\n */\r\n  \r\nexport const DO_LOGIN = \"do_login\";\r\nexport const DO_LOGOUT = \"do_logout\";   \r\nexport const GET_PRODUCT_SALES_DETAIL = \"get_product_Sales_detail\"; \r\nexport const SET_REQUEST_ID = \"SET_REQUEST_ID\"; \r\nexport const STORE_MESSAGE = \"store_message\";\r\nexport const GET_MESSAGE = \"GET_MESSAGE\";\r\nexport const SET_MAIN_APP = \"SET_MAIN_APP\"; \r\nexport const GET_ENTITY_PROPERTY = \"get_entity_config\";\r\nexport const GET_MANAGEMENT_MENUS = \"GET_MANAGEMENT_MENUS\";   \r\nexport const REFRESH_LOGIN = \"refresh_login\";\r\nexport const GET_LOGGED_USER = \"get_logged_user\";\r\nexport const SET_LOGGED_USER = \"set_logged_user\";\r\nexport const SET_APPLICATION_PROFILE = \"SET_APPLICATION_PROFILE\";\r\nexport const SET_INVENTORY_DATA = \"SET_INVENTORY_DATA\";","\r\nimport Menu from '../models/common/Menu';\r\n\r\nexport const HOME = \"home\"; \r\nexport const ABOUT = \"about\"; \r\nexport const CREATOR = \"creator\"; \r\n\r\nexport const getMenus = () => {\r\n    let menuSet: Menu[] = [];\r\n    for (let i = 0; i < menus.length; i++) {\r\n        const element: Menu = menus[i];\r\n        menuSet.push(element);\r\n    }\r\n    return menuSet;\r\n}\r\nexport const extractMenuPath = (pathName: string) => {\r\n    const pathRaw = pathName.split('/');\r\n    console.debug(\"pathName: \", pathName);\r\n    let firstPath = pathRaw[0];\r\n    if (firstPath.trim() == \"\") {\r\n        firstPath = pathRaw[1];\r\n    }\r\n    return firstPath;\r\n}\r\nexport const getMenuByMenuPath = (pathName: string): Menu | null => {\r\n    try {\r\n        for (let i = 0; i < menus.length; i++) {\r\n            const menu: Menu = menus[i];\r\n            if (menu.url == \"/\" + pathName) {\r\n                return menu;\r\n            }\r\n        }\r\n        return null;\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport const menus: Menu[] = [\r\n    {\r\n        code: HOME,\r\n        name: \"Home\",\r\n        url: \"/home\",\r\n        menuClass: \"fa fa-home\",\r\n        active: false,\r\n        authenticated: false,\r\n        showSidebar: false\r\n    },\r\n    {\r\n        code: CREATOR,\r\n        name: \"Creator\",\r\n        url: \"/creator\",\r\n        menuClass: \"fa fa-play\",\r\n        active: false,\r\n        authenticated: false,\r\n        showSidebar: false\r\n    },\r\n    \r\n    // {\r\n    //     code: DASHBOARD,\r\n    //     name: \"Dasbor\",\r\n    //     url: \"/dashboard\",\r\n    //     menuClass: \"fas fa-tachometer-alt\",\r\n    //     active: false,\r\n    //     authenticated: true,\r\n    //     showSidebar: true,\r\n    //     subMenus: [\r\n    //         {\r\n    //             code: 'dashboard_info',\r\n    //             name: 'Info Persediaan',\r\n    //             url: 'info',\r\n    //             menuClass: 'fas fa-info-circle'\r\n\r\n    //         },\r\n    //         {\r\n    //             code: 'productstat',\r\n    //             name: 'Statistik Produk',\r\n    //             url: 'productstat',\r\n    //             menuClass: 'fas fa-chart-line'\r\n    //         },\r\n    //         {\r\n    //             code: 'productstat',\r\n    //             name: 'Statistik Produk Detail',\r\n    //             url: 'productstatdetail',\r\n    //             menuClass: 'fas fa-chart-line'\r\n    //         }\r\n    //     ]\r\n    // }, \r\n    // {\r\n    //     code: INVENTORY,\r\n    //     name: \"Persediaan\",\r\n    //     url: \"/inventory\",\r\n    //     menuClass: \"fas fa-warehouse\",\r\n    //     active: false,\r\n    //     authenticated: true,\r\n    //     showSidebar: true,\r\n    //     subMenus: [\r\n    //         {\r\n    //             code: 'inventory_stocks',\r\n    //             name: 'Stok',\r\n    //             url: 'stock',\r\n    //             menuClass: 'fas fa-archive'\r\n\r\n    //         },\r\n    //         {\r\n    //             code: 'inventory_status',\r\n    //             name: 'Status',\r\n    //             url: 'status',\r\n    //             menuClass: 'fas fa-layer-group'\r\n    //         }\r\n    //         ,\r\n    //         {\r\n    //             code: 'report',\r\n    //             name: 'Laporan',\r\n    //             url: 'report',\r\n    //             menuClass: 'fas fa-file-alt'\r\n    //         }\r\n    //     ]\r\n    // }, \r\n    // {\r\n    //     code: TRANSACTION,\r\n    //     name: \"Transaksi\",\r\n    //     url: \"/transaction\",\r\n    //     menuClass: \"fas fa-book\",\r\n    //     active: false,\r\n    //     authenticated: true,\r\n    //     showSidebar: true,\r\n    //     subMenus: [\r\n    //         {\r\n    //             code: 'transaction_in',\r\n    //             name: 'Pasokan',\r\n    //             url: 'productin',\r\n    //             menuClass: 'fas fa-arrow-down'\r\n\r\n    //         },\r\n    //         {\r\n    //             code: 'transaction_out',\r\n    //             name: 'Distribusi',\r\n    //             url: 'productout',\r\n    //             menuClass: 'fas fa-arrow-up'\r\n    //         },\r\n    //         {\r\n    //             code: 'transaction_detail',\r\n    //             name: 'Detail',\r\n    //             url: 'detail',\r\n    //             menuClass: 'fas fa-folder'\r\n    //         }\r\n    //     ]\r\n    // },  \r\n    // {\r\n    //     code: MENU_MASTER_DATA,\r\n    //     name: \"Master Data\",\r\n    //     url: \"/management\",\r\n    //     menuClass: \"fa fa-database\",\r\n    //     active: false,\r\n    //     authenticated: true,\r\n    //     showSidebar: true\r\n    // },\r\n    // {\r\n    //     code: MENU_SETTING,\r\n    //     name: \"Setting\",\r\n    //     url: \"/settings\",\r\n    //     menuClass: \"fas fa-cogs\",\r\n    //     active: false,\r\n    //     authenticated: true,\r\n    //     showSidebar: true,\r\n    //     subMenus: [\r\n    //         {\r\n    //             code: 'user_profile',\r\n    //             name: 'Profil Pengguna',\r\n    //             menuClass: 'fas fa-user-cog',\r\n    //             url: 'user-profile',\r\n    //         },\r\n    //         {\r\n    //             code: 'app_profile',\r\n    //             name: 'Setting Aplikasi',\r\n    //             menuClass: 'fas fa-cog',\r\n    //             url: 'app-profile',\r\n    //         },\r\n    //         {\r\n    //             code: 'inventory_config',\r\n    //             name: 'Konfigurasi Persediaan',\r\n    //             menuClass: 'fas fa-cog',\r\n    //             url: 'inventory-config',\r\n    //         },\r\n            \r\n    //     ]\r\n    // },\r\n];\r\n","\nexport default class BaseEntity{\n\tid?:number;\n\tcreatedDate?:Date;\n\tmodifiedDate?:Date;\n\tnulledFields?:string[] | undefined;\n\t \n\n}\n","import BaseEntity from './BaseEntity';\n\nexport default class ApplicationProfile extends BaseEntity{\n\tname?:string;\n\tappCode?:string;\n\tshortDescription?:string;\n\tabout?:string;\n\twelcomingMessage?:string;\n\taddress?:string;\n\tcontact?:string;\n\twebsite?:string;\n\ticonUrl?:string;\n\tpageIcon?:string;\n\tbackgroundUrl?:string;\n\tfooterIconClass?:string;\n\tcolor?:string;\n\tfontColor?:string;\n\n}\n","import * as types from './types'\r\nimport * as menuData from '../constant/Menus' \r\nimport ApplicationProfile from './../models/ApplicationProfile';\r\nimport { updateAccessToken, setLoginKeyCookie } from './../middlewares/Common';\r\n\r\nexport const initState = {\r\n    loginKey: null,\r\n    loginStatus: false,\r\n    loginFailed: false,\r\n    menus: menuData.menus,\r\n    loggedUser: null,\r\n    loginAttempt: false,\r\n    requestId: null,\r\n    applicationProfile: new ApplicationProfile(), \r\n    assetsPath: \"/\",\r\n};\r\n\r\nexport const reducer = (state = initState, action) => {\r\n   \r\n    let result = {};\r\n   \r\n    switch (action.type) {\r\n        case types.SET_REQUEST_ID: \r\n            console.debug(\"USER REDUCER:REQUEST_ID\", action.payload.requestId);\r\n            result = {\r\n                ...state, requestId: action.payload.requestId, \r\n                applicationProfile: action.payload.applicationProfile ?? {},\r\n                assetsPath: action.payload.applicationProfile.assetsPath\r\n            };\r\n            \r\n            if (action.payload.loginStatus == true) {\r\n                result.loggedUser = action.payload.user;\r\n                result.loginStatus = true;\r\n            } else {\r\n                result.loginStatus = false;\r\n                result.loggedUser = null;\r\n            }\r\n\r\n            console.debug(\"result\");\r\n            console.debug(\"action.payload.requestId: \",action.payload.requestId); \r\n            console.debug(\"REQUEST_ID result.loginStatus:\", result.loginStatus);\r\n            if (action.payload.referer) {\r\n                action.payload.referer.refresh();\r\n            }\r\n\r\n            return result;\r\n        case types.DO_LOGIN:\r\n            result = {\r\n                ...state,\r\n                loginAttempt: true,\r\n                loginStatus: action.payload.loginStatus,\r\n                loginKey: action.payload.loginKey,\r\n                loginFailed: action.payload.loginStatus == false,\r\n                loggedUser: action.payload.loggedUser\r\n            };\r\n           \r\n\r\n            return result;\r\n        case types.DO_LOGOUT:\r\n            result = {\r\n                ...state,\r\n                loginStatus: false,\r\n                loggedUser: null\r\n            }; \r\n            setLoginKeyCookie(null);\r\n            return result;\r\n        case types.REFRESH_LOGIN:\r\n            result = {\r\n                ...state,\r\n                loginStatus: action.payload.loginStatus,\r\n                loggedUser: action.payload.loggedUser, \r\n            };\r\n            return result;\r\n        case types.GET_LOGGED_USER:\r\n            result = {\r\n                ...state, loggedUser: action.payload.data\r\n            };\r\n            return result;\r\n        case types.SET_LOGGED_USER:\r\n            result = {\r\n                ...state, loggedUser: action.payload.user\r\n            };\r\n            return result;\r\n        case types.SET_APPLICATION_PROFILE:\r\n            result = {\r\n                ...state, applicationProfile: action.payload.applicationProfile\r\n            };\r\n            return result;\r\n        default:\r\n            return { ...state };\r\n\r\n    }\r\n}\r\n\r\nexport default reducer;","\r\nexport default class AttachmentInfo {\r\n    name:string = \"\";\r\n    data:Blob = new Blob();\r\n    dataUrl:string = \"\";\r\n}","\r\nimport { commonAuthorizedHeader, commonHeader } from '../middlewares/Common';\r\nimport WebResponse from '../models/common/WebResponse';\r\nimport { updateAccessToken } from './../middlewares/Common';\r\nimport AttachmentInfo from '../models/common/AttachmentInfo';\r\n\r\nconst axios = require('axios');\r\n\r\nexport const rejectedPromise = (message: any) => {\r\n    return new Promise((res, rej) => {\r\n        rej(message);\r\n    });\r\n}\r\n\r\nexport const emptyPromise = (defaultResponse: any) => new Promise(function (res, rej) {\r\n    res(defaultResponse);\r\n});\r\n\r\nexport const commonAjaxPostCalls = (endpoint: string, payload?: any) => {\r\n    const request = payload == null ? {} : payload;\r\n    return new Promise<WebResponse>(function (resolve, reject) {\r\n        axios.post(endpoint, request, {\r\n            headers: commonAuthorizedHeader()\r\n        })\r\n            .then(axiosResponse => {\r\n                updateAccessToken(axiosResponse);\r\n                const response: WebResponse = axiosResponse.data;\r\n                response.rawAxiosResponse = axiosResponse;\r\n                if (response.code == \"00\") {\r\n\r\n                    resolve(response);\r\n                }\r\n                else { reject(response); }\r\n            })\r\n            .catch((e: any) => { console.error(e); reject(e); });\r\n    })\r\n}\r\n\r\n\r\nexport const commonAjaxPublicPostCalls = (endpoint: string, payload?: any) => {\r\n    const request = payload == null ? {} : payload;\r\n    return new Promise<WebResponse>(function (resolve, reject) {\r\n        axios.post(endpoint, request, {\r\n            headers: commonHeader()\r\n        })\r\n            .then(axiosResponse => {\r\n                \r\n                const response: WebResponse = axiosResponse.data;\r\n                response.rawAxiosResponse = axiosResponse;\r\n                if (response.code == \"00\") {\r\n                    resolve(response);\r\n                }\r\n                else { reject(response); }\r\n            })\r\n            .catch((e: any) => { \r\n                \r\n                console.error(e); \r\n                reject(e); \r\n            });\r\n    })\r\n}\r\n\r\nexport const commonAjaxPostCallsWithBlob = (endpoint: string, payload?: any) => {\r\n    const request = payload == null ? {} : payload;\r\n    return new Promise<AttachmentInfo>(function (resolve, reject) {\r\n        axios.post(endpoint, request, {\r\n            responseType: 'blob' ,\r\n            headers: commonAuthorizedHeader()\r\n        })\r\n            .then(axiosResponse => {\r\n                updateAccessToken(axiosResponse);\r\n                \r\n                const response: any = axiosResponse.data;\r\n                response.rawAxiosResponse = axiosResponse;\r\n                let contentDisposition = axiosResponse.headers[\"content-disposition\"];\r\n                let fileName = contentDisposition.split(\"filename=\")[1];\r\n                let rawSplit = fileName.split(\".\");\r\n                let extension = rawSplit[rawSplit.length - 1];\r\n                let blob = new Blob([response], { type: extension });\r\n                let url = window.URL.createObjectURL(blob);\r\n                // let a = document.createElement(\"a\");\r\n\r\n                // document.body.appendChild(a);\r\n\r\n                // a.href = url;\r\n                // a.style.display = 'none';\r\n                // a.download = fileName;\r\n                // a.click();\r\n\r\n                // window.URL.revokeObjectURL(url);\r\n                const attachmentInfo:AttachmentInfo = new AttachmentInfo();\r\n                attachmentInfo.name = fileName;\r\n                attachmentInfo.data = blob;\r\n                attachmentInfo.dataUrl = url;\r\n                resolve(attachmentInfo);\r\n                \r\n            })\r\n            .catch((e: any) => { console.error(e); reject(e); });\r\n    })\r\n}","\r\nimport User from './../models/User';\r\nimport WebRequest from '../models/common/WebRequest';\r\nimport { contextPath } from './../constant/Url';\r\nimport { commonAjaxPostCalls, commonAjaxPublicPostCalls } from './Promises';\r\nimport { updateAccessToken } from '../middlewares/Common';\r\nimport WebResponse from '../models/common/WebResponse';\r\nexport default class UserService {\r\n    private static instance?: UserService;\r\n\r\n    static getInstance(): UserService {\r\n        if (this.instance == null) {\r\n            this.instance = new UserService();\r\n        }\r\n        return this.instance;\r\n    }\r\n    updateProfile = (user: User) => {\r\n\r\n        const request: WebRequest = {\r\n            user: user\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/app/account/updateprofile\")\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n\r\n    requestApplicationId = (callbackSuccess: (response: WebResponse) => any, callbackError: () => any) => {\r\n        const url = contextPath() + \"api/public/requestid\";\r\n        commonAjaxPostCalls(url, {}).then(data => {\r\n            if (data.code != \"00\") {\r\n                alert(\"Error requesting app ID\");\r\n                return;\r\n            }\r\n            const response = data.rawAxiosResponse;\r\n            updateAccessToken(response);\r\n            console.debug(\"response header:\", response.headers['access-token']);\r\n            callbackSuccess(data);\r\n        }).catch(e => {\r\n            console.error(\"ERROR requestApplicationId: \", e);\r\n            callbackError();\r\n        })\r\n\r\n    }\r\n    requestApplicationIdNoAuth = (callbackSuccess: (response: WebResponse) => any, callbackError: () => any) => {\r\n        const url = contextPath() + \"api/public/requestid\";\r\n        commonAjaxPublicPostCalls(url, {}).then(data => {\r\n            if (data.code != \"00\") {\r\n                alert(\"Error requesting app ID\");\r\n                return;\r\n            }\r\n            callbackSuccess(data);\r\n        }).catch(e => {\r\n            callbackError();\r\n            console.error(\"ERROR requestApplicationIdNoAuth: \", e);\r\n            //   alert(\"Error Occured, please reload OR try again\");\r\n        })\r\n\r\n    }\r\n\r\n}","\r\nimport Filter from '../models/common/Filter';\r\nimport WebRequest from '../models/common/WebRequest';\r\nimport { contextPath } from './../constant/Url';\r\nimport { commonAjaxPostCalls, commonAjaxPostCallsWithBlob } from './Promises';\r\nimport BaseEntity from './../models/BaseEntity';\r\nimport ManagementProperty from '../models/ManagementProperty';\r\nimport EntityProperty from '../models/settings/EntityProperty';\r\nimport ApplicationProfile from './../models/ApplicationProfile'; \r\n\r\nexport default class MasterDataService {\r\n  \r\n    managementProperties: ManagementProperty[] = [];\r\n    private entityPropertyMap: Map<string, EntityProperty> = new Map(); \r\n    private static instance?: MasterDataService;\r\n\r\n    static getInstance(): MasterDataService {\r\n        if (this.instance == null) {\r\n            this.instance = new MasterDataService();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    getProductByCode = (code: string) => {\r\n        return this.getByKey('product', 'code', code);\r\n    }\r\n    getProductsByName = (name:string) => {\r\n        return this.getRecordsByKeyLike(\"product\", \"name\", name);\r\n    }\r\n    setEntityProperty(code: string, data?: EntityProperty) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n        this.entityPropertyMap.set(code, data);\r\n    }\r\n    getEntityProperty(code?: string): EntityProperty | undefined {\r\n        if (code == undefined) {\r\n            return undefined;\r\n        }\r\n        return this.entityPropertyMap.get(code);\r\n    }\r\n\r\n    loadManagementProperties(req?: any) {\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/managementpages\");\r\n        return commonAjaxPostCalls(endpoint, {});\r\n\r\n    }\r\n    loadEntityProperty(code: string) {\r\n        console.debug(\"Load entity prop: \", code);\r\n        const request: WebRequest = {\r\n            entity: code\r\n        }\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/configv2\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n\r\n    }\r\n    loadHealthCenters = () => {\r\n        const request: WebRequest = {\r\n            entity: 'healthcenter', filter: { orderBy: 'name', orderType: 'asc' }\r\n        }\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/get\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    loadEntities(request: WebRequest) {\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/get\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n\r\n    }\r\n    loadAllEntities(code: string) {\r\n        const request: WebRequest = {\r\n            entity: code,\r\n            filter: {\r\n                limit: 0, page: 0\r\n            }\r\n        }\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/get\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n\r\n    }\r\n    getByKey(entity: string, key: string, value: any) {\r\n        const request: WebRequest = {\r\n            entity: entity,\r\n            filter: {\r\n                exacts: true,\r\n                limit: 1,\r\n                page: 0,\r\n                fieldsFilter: { [key]: value }\r\n            }\r\n        }\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/get\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    getRecordsByKeyLike(entity: string, key: string, value: any) {\r\n        const request: WebRequest = {\r\n            entity: entity,\r\n            filter: {\r\n                // exacts: true,\r\n                limit: 10,\r\n                page: 0,\r\n                fieldsFilter: { [key]: value }\r\n            }\r\n        }\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/get\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    getById(entity: string, id: number) {\r\n        const request: WebRequest = {\r\n            entity: entity,\r\n            filter: {\r\n                exacts: true,\r\n                limit: 1,\r\n                page: 0,\r\n                fieldsFilter: { 'id': id }\r\n            }\r\n        }\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/get\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    getBy(code: string, fieldsFilter: {}, limit = 1) {\r\n        const request: WebRequest = {\r\n            entity: code,\r\n            filter: {\r\n                exacts: true,\r\n                limit: limit,\r\n                page: 0,\r\n                fieldsFilter: fieldsFilter\r\n            }\r\n        }\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/get\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    delete(code: string, id: number) {\r\n        const request: WebRequest = {\r\n            entity: code,\r\n            filter: {\r\n                fieldsFilter: { 'id': id }\r\n            }\r\n        }\r\n        const endpoint: string = contextPath().concat(\"api/app/entity/delete\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    save(code: string, model: BaseEntity, editMode: boolean) {\r\n        const request: WebRequest = {\r\n            entity: code,\r\n            [code]: model\r\n        }\r\n        let endpoint: string;\r\n        if (editMode) {\r\n            endpoint = contextPath().concat(\"api/app/entity/update\");\r\n        } else {\r\n            endpoint = contextPath().concat(\"api/app/entity/add\");\r\n        }\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n\r\n    updateApplicationProfile = (applicationProfile: ApplicationProfile) => {\r\n        const request: WebRequest = {\r\n            profile: applicationProfile\r\n        }\r\n        const endpoint = contextPath().concat(\"api/app/setting/updateprofile\");\r\n        return commonAjaxPostCalls(endpoint, request)\r\n    }\r\n   \r\n\r\n    generateReport(request: WebRequest) {\r\n        const endpoint: string = contextPath().concat(\"api/app/report/records\");\r\n        return commonAjaxPostCallsWithBlob(endpoint, request);\r\n\r\n    }\r\n}","\r\nexport default class ReportService {\r\n\r\n    private static instance?: ReportService;\r\n\r\n    static getInstance(): ReportService {\r\n        if (this.instance == null) {\r\n            this.instance = new ReportService();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n\r\n}"," \r\nimport Services from './../services/Services'; \r\n\r\nexport const initState: { services: Services } = {\r\n    services: new Services()\r\n\r\n};\r\n\r\nexport const reducer = (state = initState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default reducer;","\r\nimport UserService from './UserService';\r\nimport MasterDataService from './MasterDataService'; \r\nimport ReportService from './ReportService';\r\nexport default class Services {\r\n    userService: UserService = UserService.getInstance();\r\n    masterDataService: MasterDataService = MasterDataService.getInstance(); \r\n    reportService: ReportService = ReportService.getInstance();\r\n}","import * as shopReducer from \"./appReducer\"\r\nimport * as userReducer from \"./userReducer\" \r\nimport  * as servicesReducers from './servicesReducer';\r\nimport { combineReducers } from \"redux\";\r\n\r\nexport const rootReducer = combineReducers(\r\n    {\r\n        appState: shopReducer.reducer,\r\n        userState: userReducer.reducer, \r\n        servicesState: servicesReducers.reducer\r\n    }\r\n);\r\n\r\nexport const initialState:any = {\r\n    appState: shopReducer.initState,\r\n    userState: userReducer.initState, \r\n    servicesState: servicesReducers.initState\r\n}\r\n\r\nexport default rootReducer;","import * as common from './Common'\r\nimport * as types from '../redux/types'\r\nconst axios = require('axios');\r\nexport const performLoginMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.DO_LOGIN) {\r\n        return next(action);\r\n    }\r\n    const app = action.meta.app;\r\n    axios.post(action.meta.url, {}, {\r\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n    }).then(response => {\r\n        const responseJson = response.data;\r\n        let loginKey: string = \"\";\r\n        let loginSuccess: boolean = false;\r\n\r\n        if (responseJson.code != null && responseJson.code == \"00\") {\r\n            loginKey = response.headers['access-token'];\r\n            console.log(\"api_token: \", loginKey);\r\n            loginSuccess = true;\r\n        }\r\n        common.updateAccessToken(response);\r\n        let newAction = Object.assign({}, action, {\r\n            payload: {\r\n                loginStatus: loginSuccess,\r\n                loginKey: loginKey,\r\n                loggedUser: responseJson.user\r\n            }\r\n        });\r\n        delete newAction.meta;\r\n        store.dispatch(newAction);\r\n    })\r\n        .catch(console.log)\r\n        .finally(() => { app.endLoading(); });\r\n\r\n}\r\n \r\nexport const getLoggedUserMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.GET_LOGGED_USER) { return next(action); }\r\n\r\n    let headers = common.commonAuthorizedHeader();\r\n\r\n    axios.post(action.meta.url, (action.payload), {\r\n        headers: headers\r\n    }).then(response => {\r\n        const data = response.data;\r\n\r\n        if (!data) {\r\n            alert(\"Error performing request\");\r\n            return;\r\n        }\r\n\r\n        let newAction = Object.assign({}, action, { payload: { data } });\r\n        delete newAction.meta;\r\n        store.dispatch(newAction);\r\n    })\r\n        .catch(console.log).finally(param => {\r\n            action.meta.app.endLoading();\r\n            action.meta.app.refresh();\r\n        });\r\n}\r\n\r\n\r\nexport const performLogoutMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.DO_LOGOUT) {\r\n        return next(action);\r\n    }\r\n    const app = action.meta.app;\r\n\r\n    axios.post(action.meta.url, (action.payload), {\r\n        headers: common.commonAuthorizedHeader()\r\n    })\r\n        .then(response => {\r\n            const responseJson = response.data;\r\n            let logoutSuccess = false;\r\n            if (responseJson.code == \"00\") {\r\n                logoutSuccess = true;\r\n            } else {\r\n                alert(\"Logout Failed\");\r\n            }\r\n\r\n            let newAction = Object.assign({}, action, {\r\n                payload: {\r\n                    loginStatus: !logoutSuccess\r\n                }\r\n            });\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .catch(console.log).finally(param => app.endLoading());\r\n}\r\n\r\nexport const setLoggedUserMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.SET_LOGGED_USER) { return next(action); }\r\n    let newAction = Object.assign({}, action, { payload: action.payload });\r\n    delete newAction.meta;\r\n    store.dispatch(newAction);\r\n}","import * as common from './Common'\r\nimport * as types from '../redux/types'\r\n\r\nconst POST_METHOD = \"post\"; \r\n\r\nexport const getMessagesMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.GET_MESSAGE) { return next(action); }\r\n    fetch(action.meta.url, {\r\n        method: POST_METHOD, body: JSON.stringify(action.payload),\r\n        headers: common.commonAuthorizedHeader()\r\n    }).then(response => response.json())\r\n        .then(data => {\r\n            console.debug(\"sendChatMessageMiddleware Response:\", data);\r\n            let newAction = Object.assign({}, action, { payload: data });\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .catch(err => console.log(err)).finally(param => action.meta.app.endLoading());\r\n}\r\n \r\nexport const storeChatMessageLocallyMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.STORE_MESSAGE) { return next(action); }\r\n    let newAction = Object.assign({}, action, { payload: action.payload });\r\n    delete newAction.meta;\r\n    store.dispatch(newAction);\r\n} \r\n\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { initialState, rootReducer } from './reducers' \r\nimport * as userMiddleware from '../middlewares/UserMiddleware' \r\nimport * as realtimeChatMiddleware from '../middlewares/RealtimeChatMiddleware' \r\n\r\nlet store = null;\r\nexport const getStore = () => {\r\n    return store;\r\n}\r\nexport const configureStore = () => {\r\n    store = createStore(\r\n        rootReducer, initialState,\r\n        applyMiddleware(   \r\n\r\n            //user related\r\n            userMiddleware.performLoginMiddleware,\r\n            userMiddleware.performLogoutMiddleware,  \r\n            userMiddleware.getLoggedUserMiddleware, \r\n            userMiddleware.setLoggedUserMiddleware,\r\n \r\n\r\n            /*realtime chat*/\r\n            realtimeChatMiddleware.storeChatMessageLocallyMiddleware,\r\n            realtimeChatMiddleware.getMessagesMiddleware,\r\n\r\n        )\r\n    );\r\n\r\n    return store;\r\n}\r\n   \r\n\r\nexport default configureStore;","import {  getStore } from '../redux/configureStore';\r\nexport const commonAuthorizedHeader = () => {\r\n    return {\r\n        'Content-Type': 'application/json',\r\n        'requestId': getRequestId(),//'localStorage.getItem(\"requestId\")',\r\n        'Authorization': 'Bearer '+getLoginKey()\r\n    }\r\n};\r\nexport const commonHeader = () => {\r\n    return {\r\n        'Content-Type': 'application/json',\r\n        'requestId': getRequestId(), \r\n    }\r\n};\r\n\r\nconst LOGIN_KEY:string = \"medical-inventory-login-key\";\r\n \r\nexport const getAssetsPath = () :string => {\r\n    const store = getStore(); \r\n    if (null == store) return \"\";\r\n    const state = store.getState();\r\n    return state.userState.assetsPath;\r\n}\r\n\r\nexport const getRequestId = () :string => {\r\n    const store = getStore();\r\n    if (null == store) return \"\";\r\n    const state = store.getState();\r\n    return state.userState.requestId;\r\n}\r\nexport const getLoginKey = () => {\r\n    return getCookie(LOGIN_KEY);\r\n}\r\n\r\nexport const updateAccessToken = (axiosResponse) => {\r\n    if (axiosResponse && axiosResponse.headers && axiosResponse.headers['access-token']) {\r\n        const accessToken = axiosResponse.headers['access-token'];\r\n        // console.debug(\"update access token: \", accessToken);\r\n        setCookie(LOGIN_KEY, accessToken);\r\n    }\r\n}\r\nexport const setLoginKeyCookie = (cookieValue:any) => {\r\n    setCookie(LOGIN_KEY, cookieValue);\r\n}\r\nexport const setCookie = function (cname, cvalue, exdays=1) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n    var expires = \"expires=\" + d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n}\r\nexport const getCookie = function (cname) {\r\n    var name = cname + \"=\";\r\n    var decodedCookie = decodeURIComponent(document.cookie);\r\n    var ca = decodedCookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) == ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}","import { getAssetsPath } from \"../middlewares/Common\";\r\n\r\nconst devMode = \r\n    document.getElementById(\"rootPath\").value == \"${contextPath}\" || \r\n    document.getElementById(\"rootPath\").value == \"\";\r\nconst rootValue = devMode ?\r\n     \"/universal-good-shop/\" : document.getElementById(\"rootPath\").value+\"/\";\r\n\r\nexport const contextPath = function(){\r\n    const contextPath = devMode? \"http://localhost:8080\".concat(rootValue):rootValue;\r\n    //console.debug(\"contextPath: \",contextPath,document.getElementById(\"rootPath\").value);\r\n    return contextPath;\r\n}\r\n\r\n// export const baseImageUrl() = contextPath()+\"assets/images/\"; \r\n// export const baseImageUrl() = \"https://developmentmode.000webhostapp.com/uploaded_storage/\"; \r\n// export const baseImageUrl() = \"http://localhost/storage/images/\"; \r\nexport const baseImageUrl = () => { return getAssetsPath()+ \"images/\"}; \r\n// export const baseImageUrl() = contextPath()+\"WebAsset/Shop1/Images/\"; \r\n\r\nexport const POST = \"post\";\r\n","import * as types from './types'\r\nimport * as url from '../constant/Url'\r\nimport { contextPath } from '../constant/Url'; \r\nimport User from './../models/User';\r\nimport ApplicationProfile from './../models/ApplicationProfile'; \r\nimport WebResponse from '../models/common/WebResponse';\r\n\r\nconst usedHost = url.contextPath();\r\nconst apiBaseUrl = usedHost + \"api/public/\"\r\nconst apiEntityBaseUrl = usedHost + \"api/app/entity/\"\r\nconst apiAccount = usedHost + \"api/app/account/\"\r\nconst apiAdmin = usedHost + \"api/app/admin/\"    \r\n\r\nexport const getEntityProperty = (entityName, app) => {\r\n    app.startLoading();\r\n    let requested = {\r\n        type: types.GET_ENTITY_PROPERTY,\r\n        payload: {\r\n            entity: entityName\r\n        },\r\n        meta: {\r\n            type: types.GET_ENTITY_PROPERTY,\r\n            url: apiEntityBaseUrl.concat(\"config\"),\r\n            app: app,\r\n        }\r\n    };\r\n    return requested;\r\n}\r\n\r\n\r\nexport const getManagementMenus = (app) => {\r\n    app.startLoading();\r\n    let requested = {\r\n        type: types.GET_MANAGEMENT_MENUS,\r\n        payload: {},\r\n        meta: {\r\n            type: types.GET_MANAGEMENT_MENUS,\r\n            url: apiEntityBaseUrl.concat(\"managementpages\"),\r\n            app: app,\r\n        }\r\n    };\r\n    return requested;\r\n} \r\n\r\nexport const getMessageList = (app) => {\r\n    app.startLoading();\r\n    return {\r\n        type: types.GET_MESSAGE,\r\n        payload: {},\r\n        meta: {\r\n            type: types.GET_MESSAGE, app: app,\r\n            url: apiAdmin.concat(\"getmessages\")\r\n        }\r\n    };\r\n}\r\n\r\nexport const storeMessageLocally = (messages) => {\r\n\r\n    return {\r\n        type: types.STORE_MESSAGE,\r\n        payload: {\r\n            entities: messages\r\n        },\r\n        meta: {\r\n            type: types.STORE_MESSAGE,\r\n        }\r\n    };\r\n}\r\n    \r\n\r\nexport const performLogout = (app) => {\r\n    app.startLoading();\r\n    let loginRequest = {\r\n        type: types.DO_LOGOUT,\r\n        payload: {},\r\n        meta: { app: app, type: types.DO_LOGOUT, url: apiAccount.concat(\"logout\") }\r\n    };\r\n    return loginRequest;\r\n}\r\n\r\nexport const performLogin = (username, password, app) => {\r\n    app.startLoading();\r\n    let loginRequest = {\r\n        type: types.DO_LOGIN,\r\n        payload: {},\r\n        meta: {\r\n            type: types.DO_LOGIN, url: contextPath().concat(\"login?username=\" + username + \"&password=\" +\r\n                password + \"&transport_type=rest\"), app: app\r\n        }\r\n    };\r\n    return loginRequest;\r\n}\r\n\r\nexport const getLoggedUser = (app) => {\r\n    app.startLoading();\r\n    let request = {\r\n        type: types.GET_LOGGED_USER,\r\n        payload: {},\r\n        meta: { type: types.GET_LOGGED_USER, url: apiAccount.concat(\"user\"), app: app }\r\n    };\r\n    return request;\r\n}\r\n\r\nexport const setLoggedUser = (user: User) => {\r\n\r\n    let request = {\r\n        type: types.SET_LOGGED_USER,\r\n        payload: { user: user },\r\n        meta: { type: types.SET_LOGGED_USER }\r\n    };\r\n    return request;\r\n}\r\n\r\nexport const setApplicationProfile = (applicationProfile: ApplicationProfile) => {\r\n\r\n    let request = {\r\n        type: types.SET_APPLICATION_PROFILE,\r\n        payload: { applicationProfile: applicationProfile },\r\n        meta: { type: types.SET_APPLICATION_PROFILE }\r\n    };\r\n    return request;\r\n}\r\n \r\nexport const  setMainApp = (mainApp:any) => ({\r\n    type: types.SET_MAIN_APP,\r\n    payload: mainApp,\r\n    meta: { type: types.SET_MAIN_APP }\r\n})\r\n  \r\nexport const setRequestId = (data:WebResponse, app) => {\r\n   \r\n    const ret= {\r\n        type: types.SET_REQUEST_ID,\r\n        payload: { loginStatus: data.loggedIn, referer:app, ...data },\r\n        meta: {\r\n            type: types.SET_REQUEST_ID, \r\n        }\r\n    };\r\n    console.debug(\"setRequestId: \", ret);\r\n    return ret;\r\n}\r\n\r\n","\r\nexport const mapCommonUserStateToProps = (state) => {\r\n    return {\r\n        applicationProfile: state.userState.applicationProfile, \r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus,\r\n        requestId: state.userState.requestId, \r\n        services: state.servicesState.services,\r\n\r\n        //app\r\n        mainApp: state.appState.mainApp,\r\n        inventoryData: state.appState.inventoryData,\r\n        inventoryConfig: state.appState.inventoryConfig,\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport './Loader.css'\r\n\r\nclass Loader extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            timer: 130,\r\n            intervalId: 0\r\n        }\r\n        this.update = () => {\r\n            if (this.state.timer < 0) {\r\n                clearInterval(this.state.intervalId);\r\n            }\r\n            console.log(\"tick\")\r\n            this.setState({ timer: this.state.timer - 1 })\r\n            if (this.state.timer < 0 && this.props.endMessage) {\r\n                this.props.endMessage();\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.withTimer == true) {\r\n            let intervalId = setInterval(this.update, 1, null);\r\n            this.setState({ intervalId: intervalId });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let className = \"message message-\" + this.props.type;\r\n\r\n        if (this.props.realtime == true) {\r\n            return <LoaderContent progress={this.props.progress} realtime={this.props.realtime} />\r\n        }\r\n\r\n        return (\r\n            <div className={className} >\r\n                <LoaderContent progress={this.props.progress} realtime={this.props.realtime} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction LoaderContent(props) {\r\n    if (props.realtime) {\r\n        return (\r\n            <div className=\"row container-fluid bg-light\" style={{margin:0, position: 'fixed', zIndex: 100 }}>\r\n                <div className=\"col-1\">\r\n                <span style={{marginBottom:'3px'}} className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                </div>\r\n                <div className=\"col-11 progress\" style={{padding:0, marginTop: '7px', height:'10px'}}  >\r\n                    <div className=\"bg-primary\" style={{\r\n                        width: props.progress + \"%\",\r\n                        transitionDuration: '50ms',\r\n                        margin: 0,\r\n                    }}>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <button className=\"btn btn-dark \" type=\"button\" disabled>\r\n            <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n            <span className=\" \">Loading...</span>\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default Loader;","import React, { Component } from 'react'\r\n\r\nclass Alert extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.yesButtonRef = React.createRef();\r\n        this.noButtonRef = React.createRef();\r\n\r\n        this.onYes = (e) => {\r\n             \r\n            if (this.props.onYes) {\r\n                this.props.onYes(e);\r\n            }\r\n        }\r\n        this.onNo = (e) => {\r\n            \r\n            if (this.props.onNo) {\r\n                this.props.onNo(e);\r\n            }\r\n        }\r\n        this.onClose = (e) => {\r\n            if (this.props.onClose) {\r\n                this.props.onClose(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        const isError = this.props.isError == true;\r\n        if (!isError && this.yesButtonRef.current) {\r\n            this.yesButtonRef.current.focus();\r\n        } else if (isError && this.noButtonRef.current) {\r\n            this.noButtonRef.current.focus();\r\n        } else if (isError && this.yesButtonRef.current) {\r\n            this.yesButtonRef.current.focus();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const title = this.props.title ? this.props.title : \"Info\";\r\n        const yesOnly = this.props.yesOnly == true;\r\n        const isError = this.props.isError == true;\r\n        const headerClassName = isError ? 'bg-danger':'bg-info';\r\n        const headerFontClassName = 'text-light';\r\n        return (\r\n            <>\r\n                <Backdrop />\r\n                <div className=\"modal fade show\" style={{ display: 'block' }} id=\"exampleModalCenter\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <Header fontClassName={headerFontClassName} className={headerClassName} title={title} onClose={this.onClose} />\r\n                            <div className=\"modal-body\"> {this.props.children}</div>\r\n                            <Footer noButtonRef={this.noButtonRef} yesButtonRef={this.yesButtonRef} yesOnly={yesOnly} onYes={this.onYes} onNo={this.onNo} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction Backdrop(props) {\r\n    return (\r\n        <div className=\"modal-backdrop\" style={{backgroundColor: 'rgba(100,100,100,0.7)'}} ></div>\r\n    );\r\n}\r\n\r\nfunction Footer(props) {\r\n    return (\r\n        <div className={\"modal-footer \"+props.className}>\r\n            <button ref={props.yesButtonRef} type=\"button\"\r\n                onClick={props.onYes} className=\"btn btn-outline-primary\">Yes</button>\r\n            {props.yesOnly ? null : <button ref={props.noButtonRef} type=\"button\"\r\n                onClick={props.onNo} className=\"btn btn-outline-secondary\">No</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Header(props) {\r\n    return (<div className={\"modal-header \"+props.className}>\r\n        <h5 className={\"modal-title \"+props.fontClassName }id=\"exampleModalCenterTitle\">{props.title}</h5>\r\n        <button onClick={props.onClose} type=\"button\" className=\"close\">\r\n            <span aria-hidden=\"true\" className={props.fontClassName}><i className=\"fas fa-times\"/></span>\r\n        </button>\r\n    </div>)\r\n}\r\n\r\nexport default Alert;","import { Component } from 'react';\r\nimport WebResponse from '../models/common/WebResponse';\r\nimport ApplicationProfile from './../models/ApplicationProfile';\r\nimport User from './../models/User';\r\nimport Services from './../services/Services';\r\n\r\nexport default class BaseComponent extends Component<any, any> {\r\n    parentApp: any;\r\n    authenticated: boolean = true;\r\n    state: any = { updated: new Date() };\r\n    constructor(props: any, authenticated = false) {\r\n        super(props);\r\n\r\n        this.authenticated = authenticated\r\n        this.state = {\r\n            ...this.state\r\n        }\r\n        this.parentApp = this.props.mainApp;\r\n\r\n    }\r\n\r\n    setPageTitle = (title: string) => {\r\n        document.title = title;\r\n    }\r\n    validateLoginStatus = (callback?: () => void) => {\r\n        if (this.authenticated == false) {\r\n            if (callback) {\r\n                callback();\r\n            }\r\n            return;\r\n        }\r\n        if (this.isLoggedUserNull()) {\r\n            this.backToLogin();\r\n        } else {\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        }\r\n    }\r\n\r\n    getApplicationProfile(): ApplicationProfile {\r\n        const profile: ApplicationProfile = new ApplicationProfile();\r\n        profile.name = \"SVG generator\";\r\n        return profile;\r\n        // return this.props.applicationProfile == null ? new ApplicationProfile() : this.props.applicationProfile;\r\n    }\r\n\r\n    handleInputChange = (event: any) => {\r\n        const target = event.target;\r\n        const value = target.type == 'checkbox' ? target.checked : target.value;\r\n        this.setState({ [target.name]: value });\r\n        console.debug(\"input changed: \", target.name, value);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {boolean} withProgress \r\n     */\r\n    startLoading(withProgress: boolean) {\r\n        this.parentApp.startLoading(withProgress);\r\n    }\r\n\r\n    endLoading() {\r\n        this.parentApp.endLoading();\r\n    }\r\n    /**\r\n     * api response must be instance of WebResponse\r\n     * @param method \r\n     * @param withProgress \r\n     * @param successCallback \r\n     * @param errorCallback \r\n     * @param params \r\n     */\r\n    doAjax(method: Function, withProgress: boolean, successCallback: Function, errorCallback?: Function, ...params: any) {\r\n        this.startLoading(withProgress);\r\n\r\n        method(...params).then(function (response: WebResponse) {\r\n            if (successCallback) {\r\n                successCallback(response);\r\n            }\r\n        }).catch(function (e) {\r\n            if (errorCallback) {\r\n                errorCallback(e);\r\n            } else {\r\n                if (typeof (e) == 'string') {\r\n                    alert(\"Operation Failed: \" + e);\r\n                }\r\n                alert(\"resource not found\");\r\n            }\r\n        }).finally((e: any) => {\r\n            this.endLoading();\r\n        })\r\n    }\r\n\r\n    commonAjax(method: Function, successCallback: Function, errorCallback: Function, ...params: any) {\r\n        this.doAjax(method, false, successCallback, errorCallback, ...params);\r\n    }\r\n    commonAjaxWithProgress(method: Function, successCallback: Function, errorCallback: Function, ...params: any) {\r\n        this.doAjax(method, true, successCallback, errorCallback, ...params);\r\n    }\r\n    getLoggedUser(): User | undefined {\r\n        const user: User | undefined = this.props.loggedUser;\r\n        if (!user) return undefined;\r\n        user.password = \"^_^\";\r\n        return user;\r\n    }\r\n    isLoggedUserNull(): boolean {\r\n        return false == this.props.loginStatus || null == this.props.loggedUser;\r\n    }\r\n    isUserLoggedIn(): boolean {\r\n        return true == this.props.loginStatus && null != this.props.loggedUser;\r\n    }\r\n    showConfirmation(body: any): Promise<boolean> {\r\n        const app = this;\r\n        return new Promise(function (resolve, reject) {\r\n            const onYes = function (e) {\r\n                resolve(true);\r\n            }\r\n            const onNo = function (e) {\r\n                resolve(false);\r\n            }\r\n            app.parentApp.showAlert(\"Konfirmasi\", body, false, onYes, onNo);\r\n        });\r\n\r\n    }\r\n    showConfirmationDanger(body: any): Promise<any> {\r\n        const app = this;\r\n        return new Promise(function (resolve, reject) {\r\n            const onYes = function (e) {\r\n                resolve(true);\r\n            }\r\n            const onNo = function (e) {\r\n                resolve(false);\r\n            }\r\n            app.parentApp.showAlertError(\"Konfirmasi\", body, false, onYes, onNo);\r\n        });\r\n\r\n    }\r\n    showInfo(body: any) {\r\n        this.parentApp.showAlert(\"Info\", body, true, function () { });\r\n    }\r\n    showError(body: any) {\r\n        this.parentApp.showAlertError(\"Error\", body, true, function () { });\r\n    }\r\n\r\n    backToLogin() {\r\n        if (!this.authenticated || this.props.history == null) {\r\n            return;\r\n        }\r\n        this.props.history.push(\"/login\");\r\n    }\r\n    refresh() {\r\n        this.setState({ updated: new Date() });\r\n    }\r\n\r\n    showCommonErrorAlert = (e: any) => {\r\n        console.error(e);\r\n\r\n        let message;\r\n        if (e.response && e.response.data) {\r\n            message = e.response.data.message;\r\n        } else {\r\n            message = e;\r\n        }\r\n        this.showError(\"Operation Failed: \" + message);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.authenticated == true && this.isLoggedUserNull()) {\r\n            console.debug(typeof this, \"BACK TO LOGIN\");\r\n            this.validateLoginStatus();\r\n        }\r\n    }\r\n\r\n    getServices = (): Services => {\r\n        return this.props.services;\r\n    }\r\n}","\r\nimport React, { useRef, Fragment } from 'react';\r\nimport BaseComponent from './../BaseComponent';\r\nimport { mapCommonUserStateToProps } from './../../constant/stores';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { performLogout } from './../../redux/actionCreators';\r\nimport { getMenus } from '../../constant/Menus';\r\nimport './Header.css';\r\nimport User from './../../models/User';\r\nimport { baseImageUrl } from './../../constant/Url'; \r\nimport Menu from '../../models/common/Menu';\r\nclass IState {\r\n    showNavLinks: boolean = false;\r\n}\r\nclass Header extends BaseComponent {\r\n    state: IState = new IState();\r\n    buttonToggleNavRef: React.RefObject<HTMLButtonElement> = React.createRef();\r\n    constructor(props: any) {\r\n        super(props, false);\r\n    }\r\n    toggleNavLinks = () => {\r\n        this.setState({ showNavLinks: !this.state.showNavLinks });\r\n    }\r\n    onLogout = (e: any) => {\r\n        const app = this;\r\n        app.showConfirmation(\"Logout?\").then(\r\n            function (ok) {\r\n                if (ok) {\r\n                    app.props.performLogout(app.parentApp);\r\n                }\r\n            }\r\n        )\r\n    }\r\n    setMenu = (menu: Menu) => {\r\n        if (this.state.showNavLinks && this.buttonToggleNavRef.current) {\r\n            this.buttonToggleNavRef.current.click();\r\n        }\r\n        this.props.setMenu(menu);\r\n\r\n    }\r\n    render() {\r\n        const showNavLinks: boolean = this.state.showNavLinks;\r\n        const menus = getMenus();\r\n        const user = this.getLoggedUser();\r\n        return (\r\n            <div className=\"bg-dark container-fluid\" style={{ position: 'fixed', zIndex: 55, padding: 0, margin: 0 }}>\r\n                <NavBarTop label={this.getApplicationProfile().name} />\r\n                <nav id=\"navbar\" className=\"navbar navbar-expand-lg navbar-dark bg-dark\" style={{ width: '100%' }}>\r\n                    {/* <div className=\"container-fluid\"></div> */}\r\n                    <a id=\"navbar-brand\" className=\"navbar-brand\" href=\"#\">{this.getApplicationProfile().name}</a>\r\n                    <button ref={this.buttonToggleNavRef} onClick={this.toggleNavLinks} className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                        data-target=\"#navbarToggler\" aria-controls=\"navbarToggler\"\r\n                        aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <i className={showNavLinks ? \"fas fa-times\" : \"fas fa-bars\"} />\r\n                    </button>\r\n                    <div className={\"collapse navbar-collapse\"} id=\"navbarToggler\">\r\n                        <ul id=\"navbar-top\" className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\r\n                            {menus.map(menu => {\r\n                                if (menu == null || (menu.authenticated && !user)) return null;\r\n                                // if (menu.userAuthorized && menu.userAuthorized(user) == false) return null;\r\n                                const isActive = this.props.activeMenuCode == menu.code;\r\n                                return (\r\n                                    <li key={\"header-menu-\" + new String(menu.code)} className={\"nav-item \" + (isActive ? \"active nav-active\" : \"nav-inactive\")}>\r\n                                        <Link onClick={() => this.setMenu(menu)} className={\"nav-link  \"}\r\n                                            to={menu.url}><span>{menu.name}</span>\r\n                                        </Link></li>\r\n                                )\r\n                            })}\r\n                        </ul >\r\n                        {/* <form className=\"form-inline my-2 my-lg-0\">\r\n                            <UserIcon setMenuNull={this.props.setMenuNull}\r\n                                onLogout={this.onLogout} user={user} />\r\n                        </form > */}\r\n                    </div >\r\n                </nav >\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nconst NavBarTop = (props) => {\r\n    return (\r\n        <header id=\"navbar-brand-top\" style={{ paddingLeft: '0.5rem' }} className=\"container-fluid\">\r\n            <a style={{ fontSize: '15px' }} className=\"text-white navbar-brand\" href=\"#\">\r\n                <strong>{props.label}</strong>\r\n            </a>\r\n        </header>\r\n    );\r\n}\r\nconst UserIcon = (props: { user: User | undefined, setMenuNull(): any, onLogout(e): any }) => {\r\n    if (props.user) {\r\n        return (\r\n            <Fragment>\r\n                <Link onClick={props.setMenuNull} style={{ marginRight: \"5px\" }} className=\"btn btn-light btn-sm my-2 my-sm-0\"\r\n                    to='/settings/user-profile'>\r\n                    <img width=\"20\" src={baseImageUrl() + props.user.profileImage} className=\"rounded rounded-circle\" />\r\n                        &nbsp;{props.user.displayName}\r\n                </Link>\r\n                <a style={{ marginRight: '5px' }} className=\"btn btn-danger btn-sm  my-2 my-sm-0\"\r\n                    onClick={props.onLogout}><i className=\"fas fa-sign-out-alt\"></i>&nbsp;Logout\r\n\t\t\t\t</a>\r\n            </Fragment>);\r\n    }\r\n    return (\r\n\r\n        <Link style={{ marginRight: '5px' }} onClick={props.setMenuNull} className=\"btn btn-sm btn-info my-2 my-sm-0\"\r\n            to='/login'> <i className=\"fas fa-sign-in-alt\"></i>&nbsp;Login\r\n        </Link>\r\n    );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Function) => ({\r\n    performLogout: (app: any) => dispatch(performLogout(app))\r\n})\r\n\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(Header))","\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\ninterface Props {\r\n    onClick?:(e:any)=>any; \r\n    show?:boolean,\r\n    className?:string,\r\n    style?:any,\r\n    iconClassName?:string,\r\n    to?:string,\r\n    attributes?:any\r\n}\r\nexport default class AnchorWithIcon extends Component<Props, any>\r\n{\r\n    constructor(props: any) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        if (this.props.show == false) return null;\r\n        const btnClassName = this.props.className ?? \"btn btn-outline-secondary\";\r\n        if (this.props.to) {\r\n            return <Link {...this.props.attributes} to={this.props.to} style={this.props.style} onClick={this.props.onClick} className={btnClassName} >\r\n                {this.props.iconClassName ?\r\n                    <span style={{ marginRight: this.props.children?'5px':'0px' }}><i className={this.props.iconClassName} /></span>\r\n                    :\r\n                    null}\r\n                {this.props.children}\r\n            </Link>\r\n        }\r\n        return (\r\n            <a {...this.props.attributes} tyle={this.props.style} onClick={this.props.onClick} className={btnClassName} >\r\n                {this.props.iconClassName ?\r\n                    <span style={{ marginRight: this.props.children?'5px':'0px' }}><i className={this.props.iconClassName} /></span>\r\n                    :\r\n                    null}\r\n                {this.props.children}\r\n            </a>\r\n        )\r\n    }\r\n}","\r\nimport React, { Fragment } from 'react';\r\nimport './Home.css'\r\nimport BaseComponent from './../../BaseComponent';\r\nimport AnchorWithIcon from '../../navigation/AnchorWithIcon';\r\nimport { mapCommonUserStateToProps } from './../../../constant/stores';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass HomeMain extends BaseComponent {\r\n\r\n    constructor(props) {\r\n        super(props, false);\r\n    }\r\n\r\n    render = () => {\r\n\r\n        return (\r\n            <section className=\"container-fluid text-center\" style={{ marginTop: '50px' }}>\r\n                <Welcome />\r\n                <p />\r\n                <AnchorWithIcon className=\"btn btn-success btn-lg\" iconClassName=\"fas fa-play\" to={\"/creator\"} >Start</AnchorWithIcon>\r\n                <span style={{ margin: 3 }} />\r\n                <a href=\"https://github.com/fajaralmu/svg-creator\" target=\"_blank\" className=\"btn btn-dark btn-lg\"  >\r\n                    <span style={{ marginRight: '5px' }}><i className=\"fas fa-code\" /></span>\r\n                   Source\r\n                </a>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst Welcome = (props) => {\r\n    return (\r\n        <Fragment>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"150\">\r\n                <g className=\"welcome-svg-rect\" stroke=\"#343a40\" fill=\"transparent\" stroke-width=\"4\">\r\n                    <rect x=\"28.25\" y=\"19.26666259765625\" width=\"339\" height=\"120\" /></g>\r\n                <g className=\"welcome-svg\" stroke=\"black\" fill=\"transparent\" stroke-width=\"4\">\r\n                    <path stroke=\"#28a745\" d=\"M 142.8333282470703 39.93333435058594 Q 103.83332824707031 24.933334350585938 92.83332824707031 53.93333435058594\" /><path stroke=\"#28a745\" d=\"M 92.83332824707031 53.93333435058594 Q 91.83332824707031 77.93333435058594 126.83332824707031 88.93333435058594\" />\r\n                    <path stroke=\"#28a745\" d=\"M 126.83332824707031 88.93333435058594 Q 132.8333282470703 100 119.83332824707031 103\" />\r\n                    <path stroke=\"#28a745\" d=\"M 119.83332824707031 103 Q 117 106 95.25 98.66667175292969\" />\r\n                    <path stroke=\"#28a745\" d=\"M 92.25 112.66667175292969 Q 133.25 130.6666717529297 147.25 98.66667175292969\" />\r\n                    <path stroke=\"#28a745\" d=\"M 147.25 98.66667175292969 Q 149.25 80.66667175292969 127.25 69.66667175292969\" />\r\n                    <path stroke=\"#28a745\" d=\"M 127.25 69.66667175292969 Q 108.25 62.66667175292969 115.25 52.66667175292969\" /><path stroke=\"#28a745\" d=\"M 115.25 52.66667175292969 Q 126.25 46.66667175292969 139.25 54.66667175292969\" />\r\n                    <path stroke=\"#28a745\" d=\"M 139.25 54.66667175292969 L 139.25 54.66667175292969 L 142.8333282470703 39.93333435058594 \" />\r\n                    <path stroke=\"#28a745\" d=\"M 299.25 38.66667175292969 Q 245.25 26.666671752929688 233.25 67.66667175292969\" />\r\n                    <path stroke=\"#28a745\" d=\"M 233.25 67.66667175292969 Q 226.25 105.66667175292969 263.25 117.66667175292969\" />\r\n                    <path stroke=\"#28a745\" d=\"M 263.25 117.66667175292969 Q 286.25 120.66667175292969 303.25 112.66667175292969\" /><path stroke=\"#28a745\" d=\"M 303.25 112.66667175292969 L 303.25 112.66667175292969 L 303.25 70.66667175292969 L 271.25 70.66667175292969 L 271.25 84.66667175292969 L 285.25 84.66667175292969 L 285.25 100.66667175292969 \" />\r\n                    <path stroke=\"#28a745\" d=\"M 285.25 100.66667175292969 Q 263.25 106.66667175292969 252.25 88.66667175292969\" /><path stroke=\"#28a745\" d=\"M 252.25 88.66667175292969 Q 245.25 61.66667175292969 267.25 52.66667175292969\" /><path stroke=\"#28a745\" d=\"M 267.25 52.66667175292969 Q 281.25 48.66667175292969 294.25 54.66667175292969\" />\r\n                    <path stroke=\"#28a745\" d=\"M 294.25 54.66667175292969 L 294.25 54.66667175292969 L 299.25 38.66667175292969 \" />\r\n                    <path id=\"V\" stroke=\"#28a745\" d=\"M 92.25 112.66667175292969 L 92.25 112.66667175292969 L 95.25 98.66667175292969 \" />\r\n                </g>\r\n                <g className=\"welcome-svg-v\" stroke=\"#343a40\" fill=\"transparent\" stroke-width=\"4\">\r\n                    <path d=\"M 152.25 36.66667175292969 L 152.25 36.66667175292969 L 177.25 115.66667175292969 L 199.25 115.66667175292969 L 227.25 37.66667175292969 L 207.25 37.66667175292969 L 189.25 94.66667175292969 L 173.25 36.66667175292969 Z\" />\r\n                </g>\r\n            </svg>\r\n            <p />\r\n            <PenSvg />\r\n        </Fragment>\r\n    )\r\n}\r\n \r\nconst Icon = (props) => {\r\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"500\" height=\"400\"><g className=\"welcome-svg \"stroke=\"black\" fill=\"transparent\" stroke-width=\"2\"> <path stroke-width=\"2\" stroke=\"#20f08d\" d=\"\" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 35.44999694824219 49.149993896484375 L 35.44999694824219 49.149993896484375 L 18.449996948242188 156.14999389648438 L 32.44999694824219 156.14999389648438 L 44.44999694824219 66.14999389648438 L 52.44999694824219 120.14999389648438 L 41.44999694824219 120.14999389648438 L 41.44999694824219 135.14999389648438 L 53.44999694824219 135.14999389648438 L 56.44999694824219 156.14999389648438 L 69.44999694824219 156.14999389648438 L 56.44999694824219 49.149993896484375 Z\" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 107.44999694824219 49.149993896484375 L 107.44999694824219 49.149993896484375 L 79.44999694824219 49.149993896484375 L 79.44999694824219 156.14999389648438 L 94.44999694824219 156.14999389648438 L 94.44999694824219 63.149993896484375 L 106.44999694824219 63.149993896484375 \" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 106.44999694824219 63.149993896484375 Q 115.44999694824219 75.14999389648438 106.44999694824219 92.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 107.44999694824219 49.149993896484375 Q 128.4499969482422 55.149993896484375 125.44999694824219 76.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 125.44999694824219 76.14999389648438 Q 127.44999694824219 92.14999389648438 114.44999694824219 99.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 114.44999694824219 99.14999389648438 Q 128.4499969482422 105.14999389648438 127.44999694824219 126.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 127.44999694824219 126.14999389648438 Q 126.44999694824219 151.14999389648438 107.44999694824219 156.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 106.44999694824219 92.14999389648438 L 106.44999694824219 92.14999389648438 L 98.44999694824219 92.14999389648438 L 98.44999694824219 107.14999389648438 L 106.44999694824219 107.14999389648438 \" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 106.44999694824219 107.14999389648438 Q 117.44999694824219 123.14999389648438 105.44999694824219 142.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 107.44999694824219 156.14999389648438 L 107.44999694824219 156.14999389648438 L 99.44999694824219 156.14999389648438 L 99.44999694824219 142.14999389648438 L 105.44999694824219 142.14999389648438 \" /><path stroke-width=\"2\" stroke=\"#20f08d\" d=\"\" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 149.4499969482422 49.149993896484375 L 149.4499969482422 49.149993896484375 L 132.4499969482422 156.14999389648438 L 144.4499969482422 156.14999389648438 L 158.4499969482422 67.14999389648438 L 165.4499969482422 120.14999389648438 L 155.4499969482422 120.14999389648438 L 155.4499969482422 136.14999389648438 L 167.4499969482422 136.14999389648438 L 170.4499969482422 156.14999389648438 L 182.4499969482422 156.14999389648438 L 168.4499969482422 49.149993896484375 Z\" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 199.4499969482422 156.14999389648438 L 199.4499969482422 156.14999389648438 L 199.4499969482422 63.149993896484375 L 183.4499969482422 63.149993896484375 L 182.4499969482422 49.149993896484375 L 229.4499969482422 49.149993896484375 L 229.4499969482422 63.149993896484375 L 212.4499969482422 63.149993896484375 L 211.4499969482422 156.14999389648438 Z\" /><path stroke-width=\"2\" stroke=\"#20f08d\" d=\"\" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 330.4499969482422 76.14999389648438 Q 327.4499969482422 45.149993896484375 304.4499969482422 49.149993896484375\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 304.4499969482422 49.149993896484375 Q 273.4499969482422 56.149993896484375 294.4499969482422 99.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 294.4499969482422 99.14999389648438 Q 324.4499969482422 122.14999389648438 314.4499969482422 142.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 314.4499969482422 142.14999389648438 Q 299.4499969482422 148.14999389648438 297.4499969482422 132.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 297.4499969482422 132.14999389648438 L 297.4499969482422 132.14999389648438 L 297.4499969482422 125.14999389648438 L 284.4499969482422 125.14999389648438 \" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 284.4499969482422 125.14999389648438 Q 284.4499969482422 158.14999389648438 307.4499969482422 156.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 307.4499969482422 156.14999389648438 Q 328.4499969482422 157.14999389648438 331.4499969482422 126.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 331.4499969482422 126.14999389648438 Q 326.4499969482422 105.14999389648438 312.4499969482422 95.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 312.4499969482422 95.14999389648438 Q 295.4499969482422 86.14999389648438 300.4499969482422 68.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 300.4499969482422 68.14999389648438 Q 307.4499969482422 55.149993896484375 316.4499969482422 68.14999389648438\"/><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 316.4499969482422 68.14999389648438 L 316.4499969482422 68.14999389648438 L 316.4499969482422 75.64999389648438 L 330.4499969482422 76.14999389648438 \" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 352.4499969482422 49.149993896484375 L 352.4499969482422 49.149993896484375 L 334.4499969482422 156.14999389648438 L 348.4499969482422 156.14999389648438 L 361.4499969482422 67.14999389648438 L 368.4499969482422 120.14999389648438 L 358.4499969482422 120.14999389648438 L 358.4499969482422 135.14999389648438 L 369.4499969482422 135.14999389648438 L 373.4499969482422 156.14999389648438 L 388.4499969482422 156.14999389648438 L 370.4499969482422 49.149993896484375 Z\" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 425.4499969482422 156.14999389648438 L 425.4499969482422 156.14999389648438 L 448.4499969482422 62.149993896484375 L 416.4499969482422 62.149993896484375 L 416.4499969482422 49.149993896484375 L 461.4499969482422 49.149993896484375 L 461.4499969482422 62.149993896484375 L 439.4499969482422 156.14999389648438 Z\" /><path stroke-width=\"4\" stroke=\"#20f08d\" d=\"M 244.4499969482422 49.149993896484375 L 244.4499969482422 49.149993896484375 L 228.4499969482422 156.14999389648438 L 240.4499969482422 156.14999389648438 L 253.4499969482422 68.14999389648438 L 259.4499969482422 120.14999389648438 L 249.4499969482422 120.14999389648438 L 249.4499969482422 135.14999389648438 L 261.4499969482422 135.14999389648438 L 266.4499969482422 156.14999389648438 L 279.4499969482422 156.14999389648438 L 263.4499969482422 49.149993896484375 Z\" /><rect stroke-width=\"2\" stroke=\"#000040\" x=\"11.449996948242188\" y=\"34.149993896484375\" width=\"462\" height=\"136\" /></g></svg>\r\n}\r\n\r\nconst PenSvg = (props) => { \r\n    // return <Icon/>\r\n    return (\r\n        <svg  xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"100\">\r\n            <g id=\"pen-body\" className=\"welcome-svg \"stroke=\"#343a40\" fill=\"transparent\" stroke-width=\"2\">\r\n\r\n                <path stroke-width=\"4\" d=\"M 372.25 47.26666259765625 L 372.25 47.26666259765625 L 73.41667175292969 47.26666259765625 L 103.41667175292969 33.76666259765625 L 108.41667175292969 40.76666259765625 L 108.41667175292969 52.76666259765625 L 102.41667175292969 60.76666259765625 L 79.41667175292969 51.76666259765625 \" />\r\n                <path stroke=\"#28a745\" d=\"M 177.4166717529297 30.76666259765625 L 177.4166717529297 30.76666259765625 L 177.4166717529297 61.76666259765625 L 363.8999938964844 58.46665954589844 L 372.25 47.26666259765625 L 364.4166717529297 35.76666259765625 Z\" /><path stroke=\"#28a745\" d=\"M 177.4166717529297 30.76666259765625 Q 149.4166717529297 36.76666259765625 128.4166717529297 29.76666259765625\" />\r\n                <path stroke=\"#28a745\" d=\"M 177.4166717529297 61.76666259765625 Q 149.4166717529297 55.76666259765625 127.41667175292969 62.76666259765625\" />\r\n                <path stroke=\"#28a745\" d=\"M 128.4166717529297 29.76666259765625 L 128.4166717529297 29.76666259765625 L 114.41667175292969 36.76666259765625 L 114.41667175292969 54.76666259765625 L 127.41667175292969 62.76666259765625 Z\" />\r\n            </g>\r\n            <g id=\"line\" className=\"welcome-svg-slow \" stroke=\"#343a40\" fill=\"transparent\" stroke-width=\"4\">\r\n                <path d=\"M 14.66668701171875 53.600006103515625 Q 7.66668701171875 17.600006103515625 40.66668701171875 18.600006103515625\" />\r\n                <path d=\"M 40.66668701171875 18.600006103515625 Q 53 20 49.66668701171875 47.600006103515625\" />\r\n                <path d=\"M 49.66668701171875 47.600006103515625 Q 47.66668701171875 64.60000610351562 67.66668701171875 62.600006103515625\" />\r\n                <path d=\"M 67.66668701171875 62.600006103515625 Q 81.66668701171875 64.60000610351562 73.41667175292969 47.26666259765625\" />\r\n\r\n            </g>\r\n        </svg>\r\n    )\r\n}\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps\r\n)(HomeMain))\r\n","let index = 1;\r\nexport const uniqueId = function () {\r\n\tlet string = new String(new Date().getUTCMilliseconds()).toString();\r\n\tindex++;\r\n\treturn index + \"-\" + string;\r\n}\r\n\r\nexport const greeting = (): string => {\r\n\r\n\tlet hour = new Date().getHours();\r\n\tlet time: string = \"Datang\";\r\n\tif (hour >= 3 && hour < 11) {\r\n\t\ttime = \"Pagi\";\r\n\t} else if (hour >= 11 && hour < 15) {\r\n\t\ttime = \"Siang\";\r\n\t} else if (hour >= 15 && hour < 18) {\r\n\t\ttime = \"Sore\";\r\n\t} else {\r\n\t\ttime = \"Malam\";\r\n\t}\r\n\r\n\treturn \"Selamat \"+time;\r\n\r\n}\r\n\r\nexport function beautifyNominal(val: any) {\r\n\tif (val == \"\" || val == null) return \"0\";\r\n\tconst isDecimal: boolean = new String(val).includes(\".\");\r\n\tconst isNegative: boolean = new String(val).startsWith(\"-\");\r\n\tif (isNegative) {\r\n\t\tval = new String(val).replace(\"-\", \"\");\r\n\t}\r\n\tconst rawVal = isDecimal ? parseInt(new String(val).split(\".\")[0]) : parseInt(val);\r\n\tlet nominal = Math.abs(rawVal).toString();\r\n\tlet result = \"\";\r\n\tif (nominal.length > 3) {\r\n\t\tlet zeroIndex: number = 0;\r\n\t\tfor (let i = nominal.length - 1; i > 0; i--) {\r\n\t\t\tzeroIndex++;\r\n\t\t\tresult = nominal[i] + result;\r\n\t\t\tif (zeroIndex == 3) {\r\n\t\t\t\tresult = \".\" + result;\r\n\t\t\t\tzeroIndex = 0;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tresult = nominal[0] + result;\r\n\t} else {\r\n\t\tresult = val;\r\n\t}\r\n\tif (rawVal < 0) {\r\n\t\treturn rawVal;\r\n\t}\r\n\tif (isDecimal) {\r\n\t\tresult += \",\" + new String(val).split(\".\")[1];\r\n\t}\r\n\tif (isNegative) {\r\n\t\tresult = \"-\" + result;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport const getMaxSales = (list) => {\r\n\tlet result = 0;\r\n\tfor (let i = 0; i < list.length; i++) {\r\n\t\tconst element = list[i];\r\n\t\tif (element.sales > result)\r\n\t\t\tresult = element.sales;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport const isNonNullArray = function (array) {\r\n\treturn array != null && array.length > 0;\r\n}\r\n\r\nexport const isNonNullArrayWithIndex = function (array, i) {\r\n\treturn array != null && array.length > 0 && array[i] != null;\r\n}\r\n\r\nconst months = [\r\n\t\"January\", \"Ferbuary\", \"March\", \"April\", \"May\", \"June\",\r\n\t\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n]\r\n\r\nexport const monthYearString = function (m, y) {\r\n\tif (m == null || y == null) {\r\n\t\treturn \"-\";\r\n\t}\r\n\treturn months[m - 1] + \" \" + y;\r\n}\r\n\r\nexport const base64StringFileSize = (base64String: string): number => {\r\n\tif (base64String.includes(\",\")) {\r\n\t\tbase64String = base64String.split(\",\")[1];\r\n\t}\r\n\tvar stringLength = base64String.length;\r\n\r\n\tvar sizeInBytes = 4 * Math.ceil((stringLength / 3)) * 0.5624896334383812;\r\n\tvar sizeInKb = sizeInBytes / 1000;\r\n\treturn sizeInBytes;\r\n}\r\n\r\nexport const fileExtension = (fileName: string): string => {\r\n\tif (fileName.includes(\".\") == false) {\r\n\t\treturn \"*\";\r\n\t}\r\n\r\n\tconst splitted = fileName.split(\".\");\r\n\treturn splitted[splitted.length - 1];\r\n}","import { base64StringFileSize } from './StringUtil';\r\nimport { ChangeEvent } from 'react';\r\nexport const byId = (id) => { return document.getElementById(id) }\r\n \r\nexport function toBase64(file, referer, callback) {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file.files[0]);\r\n    reader.onload = () => callback(reader.result, referer);\r\n    reader.onerror = error => {\r\n        alert(\"Error Loading File\");\r\n    }\r\n}\r\n \r\nexport const getHtmlInputElement = (e:ChangeEvent) : HTMLInputElement => {\r\n    const target = e.target as HTMLInputElement;\r\n    return target;\r\n}\r\n\r\nexport function toBase64v2(fileInput) {\r\n    return new Promise<string>(function (resolve, reject) {\r\n        try {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(fileInput.files[0]);\r\n            console.debug(\"fileInput.files[0]: \", fileInput.files[0]);\r\n            reader.onload = function () { resolve(new String(reader.result).toString()); }\r\n            reader.onerror = function (error) {\r\n                reject(error);\r\n            }\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n\r\n}\r\n\r\nexport const resizeImage = (data:string, ratio:number, extension:string) => {\r\n    const actualFilesize = base64StringFileSize(data);\r\n    console.debug(\"Actual filesize: \", actualFilesize);\r\n    return new Promise<string>(function(resolve, reject){\r\n        const img = new Image();\r\n        img.src = data;\r\n        img.onload = function () {\r\n            const width = img.width   * ratio;\r\n            const height = img.height   * ratio;\r\n            // create an off-screen canvas\r\n            var canvas:HTMLCanvasElement = document.createElement('canvas');\r\n            const ctx = canvas.getContext('2d');\r\n            if (!ctx) return;\r\n            // set its dimension to target size\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            var mime_type = \"image/\"+extension;\r\n            // draw source image into the off-screen canvas:\r\n            ctx.drawImage(img, 0, 0, width, height);\r\n            console.debug(\"Resize ratio: \", ratio, \"mime_type: \",mime_type);\r\n            // encode image to data-uri with base64 version of compressed image\r\n            const dataURL = (canvas.toDataURL());\r\n            console.debug(\"Resized filesize: \", base64StringFileSize(dataURL));\r\n            resolve(dataURL);\r\n        }\r\n    });\r\n}\r\n\r\nexport function toBase64FromFile(file) {\r\n    return new Promise(function (resolve, reject) {\r\n        try {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = function () { resolve(reader.result); }\r\n            reader.onerror = function (error) {\r\n                reject(error);\r\n            }\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n\r\n}\r\n\r\n\r\nexport const checkExistance = function (...ids) {\r\n    for (let i = 0; i < ids.length; i++) {\r\n        if (byId(ids[i]) == null) {\r\n            console.log(\"component with id:\", ids[i], \"does not exist\");\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n/**\r\n * \r\n * @param {Number} totalButton \r\n * @param {Number} currentPage \r\n */\r\nexport const createNavButtons = (totalButton, currentPage) => {\r\n    totalButton = Math.ceil(totalButton);\r\n    if (!currentPage) { currentPage = 0 }\r\n    let buttonData = new Array();\r\n    let min = currentPage - 3 < 0 ? 0 : currentPage - 3;\r\n    let max = currentPage + 3 > totalButton ? totalButton : currentPage + 3;\r\n\r\n    if (min != 0) {\r\n        buttonData.push({\r\n            text: 1,\r\n            value: 0\r\n        });\r\n    }\r\n\r\n    for (let index = min; index < max; index++) {\r\n        buttonData.push({\r\n            text: index + 1,\r\n            value: index\r\n        });\r\n    }\r\n\r\n    if (max != totalButton) {\r\n        buttonData.push({\r\n            text: totalButton,\r\n            value: totalButton - 1\r\n        });\r\n    }\r\n\r\n\r\n    return buttonData;\r\n}\r\n\r\n\r\nexport const getDropdownOptionsMonth = () => {\r\n    let options:any[] = [];\r\n    for (let i = 1; i <= 12; i++) {\r\n        options.push({ value: i, text: i });\r\n    }\r\n    return options;\r\n}\r\nexport const getDropdownOptionsYear = (from, to) => {\r\n    let options:any[] = [];\r\n    for (let i = from; i <= to; i++) {\r\n        options.push({ value: i, text: i });\r\n    }\r\n    return options;\r\n}","\r\nimport React, { Component } from 'react';\r\ninterface IProps {\r\n    show?:boolean;\r\n    className?:string;\r\n    style?:any;\r\n    onClick?:any;\r\n    iconClassName?:string;\r\n    attributes?:any;\r\n}\r\nexport default class AnchorButton extends Component<IProps, any>\r\n{\r\n    constructor(props:any) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        if (this.props.show == false) return null;\r\n        const btnClassName = this.props.className??\"btn btn-outline-secondary\";\r\n        return (\r\n            <a style={this.props.style} {...this.props.attributes} onClick={this.props.onClick} className={btnClassName} >\r\n                {this.props.iconClassName?\r\n                <span style={this.props.children?{marginRight:'5px'}:{}}><i className={this.props.iconClassName}/></span>\r\n                :\r\n                null}\r\n                {this.props.children}\r\n            </a>\r\n        )\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\nimport AnchorButton from '../navigation/AnchorButton';\r\nclass IState {\r\n    show:boolean = true\r\n}\r\nexport default class Modal extends Component<any, IState> {\r\n    state:IState = new IState();\r\n    constructor(props: any) {\r\n        super(props);\r\n    }\r\n    hideModal = () => {\r\n        this.setState({show:false});\r\n    }\r\n    showModal = () => {\r\n        this.setState({show:true});\r\n    }\r\n    render() {\r\n       if (this.props.show == false) { return null; }\r\n        const title = this.props.title?? \"Title\"; \r\n        if (this.props.toggleable == true && this.state.show == false) {\r\n            return (\r\n                <AnchorButton style={{marginBottom:'10px'}} onClick={this.showModal} iconClassName=\"fas fa-angle-down\" >Show {title}</AnchorButton>\r\n            )\r\n        }\r\n        const props = (({ style, show, footerContent, toggleable, ...props }) => props)(this.props) // remove b and c\r\n        return (\r\n            <div {...props} className=\"modal-content \" style={{...props.style, marginBottom:'10px'}}>\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\">{title}</h5>\r\n                    {this.props.toggleable?\r\n                    <button type=\"button\" className=\"btn btn-sm\" onClick={this.hideModal} aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">\r\n                            <i className='fas fa-times'/>\r\n                        </span>\r\n                    </button>\r\n                    :\r\n                    null}\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    {this.props.children}\r\n                </div>\r\n                {this.props.footerContent || this.props.showFooter == true?\r\n                <div className=\"modal-footer\">\r\n                    {this.props.footerContent}\r\n                </div>\r\n                :null}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","\r\nimport React, { Component } from 'react';\r\nexport default class FormGroup extends Component<any, any>\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        if (this.props.show == false) return null;\r\n        const orientation = this.props.orientation == 'vertical' ? 'vertical' : 'horizontal';\r\n        return (\r\n            <div style={this.props.style} className={\"form-group \"+ this.props.className+ \" \" + (orientation == 'vertical' ? '' : 'row')}>\r\n                <label className={(orientation == 'vertical' ? '' : 'col-sm-3')}><strong>{this.props.label ? this.props.label : null}</strong></label>\r\n                <div className={(orientation == 'vertical' ? '' : 'col-sm-9')}>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport AnchorButton from './AnchorButton';\r\ninterface Props {\r\n    onClick(val:boolean):void,\r\n    active:boolean,\r\n    yesLabel?:string,\r\n    noLabel?:string\r\n}\r\nexport default class ToggleButton extends Component<Props, any>{\r\n    \r\n    render() {\r\n        const props = this.props;\r\n        const active = this.props.active;\r\n        return (\r\n            <div className=\"btn-group\">\r\n                <AnchorButton className={\"btn  btn-sm \" + (active ? \"btn-dark\" : \"btn-outline-dark\")} onClick={(e) => this.props.onClick(true)} >\r\n                    {props.yesLabel??\"Yes\"}</AnchorButton>\r\n                <AnchorButton className={\"btn  btn-sm \" + (active == false ? \"btn-dark\" : \"btn-outline-dark\")} onClick={(e) => this.props.onClick(false)}  >\r\n                    {props.noLabel??\"No\"}</AnchorButton>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}","import SvgItem from \"./SvgItem\";\r\nimport { uniqueId } from './../../utils/StringUtil';\r\n\r\nexport default class BaseElement {\r\n    id:string = uniqueId();\r\n    x:number = 0; y: number = 0;\r\n    strokeColor:string = \"#000\";\r\n    strokeWidth:number = 2;\r\n\r\n    init = (ref:SvgItem) => {\r\n        this.strokeColor = ref.strokeColor;\r\n        this.strokeWidth = ref.strokeWidth;\r\n    }\r\n\r\n    html = (strokeColor?:string) => {\r\n        return '<g></g>';\r\n    }\r\n}","\r\nimport BaseElement from './BaseElement';\r\nexport default class SvgPoint extends BaseElement{\r\n   \r\n\r\n    public static newInstanceFromReference = (refPoint:SvgPoint) : SvgPoint => {\r\n        const p = new SvgPoint();\r\n        p.x = refPoint.x;\r\n        p.y = refPoint.y;\r\n        return p;\r\n    }\r\n    /**\r\n     * make straight LINE\r\n     * @param e \r\n     * @param target \r\n     * @param prevPoint \r\n     */\r\n    public static newStraightLineInstance  = (e: React.MouseEvent<SVGRectElement>, target: SVGRectElement, prevPoint:SvgPoint): SvgPoint => {\r\n        var dim = target.getBoundingClientRect();\r\n        const p = new SvgPoint();\r\n\r\n        p.x = e.clientX - dim.left;\r\n        p.y = e.clientY - dim.top;;\r\n        const absX = Math.abs(prevPoint.x - p.x);\r\n        const abxY = Math.abs(prevPoint.y - p.y);\r\n        if (absX < abxY) {\r\n            p.x = prevPoint.x;\r\n        } else {\r\n            p.y = prevPoint.y;\r\n        }\r\n        return p;\r\n    }\r\n    public static  newInstanceFromEvent = (e: React.MouseEvent<any>, target: SVGRectElement): SvgPoint => {\r\n        var dim = target.getBoundingClientRect();\r\n        const p = new SvgPoint();\r\n\r\n        p.x = parseInt((e.clientX - dim.left).toFixed(2));\r\n        p.y = parseInt((e.clientY - dim.top).toFixed(2));\r\n        return p;\r\n    }\r\n}","\r\nimport BaseElement from './BaseElement';\r\nimport SvgItem from './SvgItem';\r\nimport SvgPoint from './SvgPoint';\r\n\r\nexport default class Rect extends BaseElement {\r\n    \r\n    width:number = 0;\r\n    height:number = 0;\r\n\r\n    html = ( )=> {\r\n        const r=  this;\r\n        return `<rect stroke-width=\"`+this.strokeWidth+`\" stroke=\"` + this.strokeColor + `\"  x=\"` + r.x + `\" y=\"` + r.y + `\" width=\"` + r.width + `\" height=\"` + r.height + `\"  />`;\r\n\r\n    }\r\n\r\n    public static newInstance = (ref:SvgItem, start:SvgPoint, end:SvgPoint) :Rect => {\r\n        const r = new Rect();\r\n        r.init(ref);\r\n        r.x = start.x;\r\n        r.y = start.y;\r\n        r.width = end.x - start.x;\r\n        r.height = end.y - start.y;\r\n        return r;\r\n    }\r\n\r\n    public static  getBoundingRect = (xMin:number, xMax:number, yMin:number, yMax:number):Rect => {\r\n        \r\n        const r = new Rect();\r\n        r.x = xMin;\r\n        r.y = yMin;\r\n        r.width = xMax - xMin;\r\n        r.height = yMax - yMin;\r\n        r.strokeColor = '#ccc';\r\n        r.strokeWidth = 1;\r\n        return r;\r\n    }\r\n}","\r\nimport BaseElement from './BaseElement';\r\nimport SvgItem from './SvgItem';\r\nimport SvgPoint from './SvgPoint';\r\nexport default class Circle extends BaseElement {\r\n    r: number = 0;\r\n\r\n\r\n    calculateRadius = (point1: SvgPoint, point2: SvgPoint) => {\r\n        const radiusX: number = point2.x - point1.x;\r\n        const radiusY: number = point2.y - point1.y;\r\n        const radius = Math.sqrt(Math.pow(radiusX, 2) + Math.pow(radiusY, 2));\r\n        this.r = radius;\r\n    }\r\n\r\n    html = () => {\r\n        const c = this;\r\n        return `<circle stroke-width=\"`+this.strokeWidth+`\" stroke=\"` + this.strokeColor + `\"  cx=\"` + c.x + `\" cy=\"` + c.y + `\" r=\"` + c.r + `\"  />`;\r\n    }\r\n\r\n    public static newInstance = (ref:SvgItem, middlePoint:SvgPoint, radiusPoint:SvgPoint) => {\r\n        const c = new Circle();\r\n        c.init(ref);\r\n        c.x = middlePoint.x;\r\n        c.y = middlePoint.y;\r\n\r\n        c.calculateRadius(middlePoint, radiusPoint);\r\n        return c;\r\n    }\r\n}","export enum ElementType {\r\n    PATH, CURVE, CIRCLE, RECT, ELLIPSE\r\n     \r\n}","\r\nimport BaseElement from './BaseElement';\r\nimport SvgItem from './SvgItem';\r\nimport SvgPoint from './SvgPoint';\r\nexport default class QuadraticCurve extends BaseElement {\r\n    closePath: boolean = false;\r\n    endPoints: SvgPoint[] = [];\r\n    slopePoints: SvgPoint[] = [];\r\n    getPath = (): string => {\r\n        let fullPath = \"M \" + this.x + \" \" + this.y + \" \";\r\n        for (let i = 0; i < this.endPoints.length; i++) {\r\n            try {\r\n                const end = this.endPoints[i];\r\n                const slope = this.slopePoints[i];\r\n                const path = \"Q \" + slope.x + \" \" + slope.y + \" \" + end.x + \" \" + end.y;\r\n                fullPath += path;\r\n            } catch (e) { }\r\n        }\r\n        if (this.closePath) {\r\n            fullPath += \" Z \";\r\n        }\r\n        return fullPath;\r\n    }\r\n    html = () => {\r\n        return `<path stroke-width=\"` + this.strokeWidth + `\" stroke=\"` + this.strokeColor + `\"  d=\"` + this.getPath() + `\"/>`;\r\n    }\r\n\r\n    public static newInstance = (ref: SvgItem, ...points: SvgPoint[]): QuadraticCurve => {\r\n        const c = new QuadraticCurve();\r\n        c.init(ref);\r\n        if (!points || points.length == 0) {\r\n            return c;\r\n        }\r\n        const startPoint = points[0];\r\n        c.x = startPoint.x;\r\n        c.y = startPoint.y;\r\n        c.closePath = ref.closePath;\r\n        for (let i = 1; i < points.length; i++) {\r\n            const p = points[i];\r\n            if (i % 2 == 0) {\r\n                c.slopePoints.push(p);\r\n            } else {\r\n                c.endPoints.push(p);\r\n            }\r\n\r\n        }\r\n        return c;\r\n    }\r\n}","\r\nimport BaseElement from './BaseElement';\r\nimport SvgItem from './SvgItem';\r\nimport SvgPoint from './SvgPoint';\r\nexport default class Ellipse extends BaseElement {\r\n    rx: number = 0;\r\n    ry: number = 0;\r\n\r\n\r\n    calculateRadius = (middlePoint: SvgPoint, point2: SvgPoint) : number=> {\r\n        const radiusX: number = point2.x - middlePoint.x;\r\n        const radiusY: number = point2.y - middlePoint.y;\r\n        const radius = Math.sqrt(Math.pow(radiusX, 2) + Math.pow(radiusY, 2));\r\n        return radius;\r\n    }\r\n\r\n    html = () => {\r\n        const c = this;\r\n        return `<ellipse  stroke-width=\"`+this.strokeWidth+`\" stroke=\"` + this.strokeColor + `\"  cx=\"` + c.x + `\" cy=\"` + c.y + `\" rx=\"` + c.rx + `\"  ry=\"` + c.ry + `\"  />`;\r\n    }\r\n\r\n    public static newInstance = (ref:SvgItem, middle:SvgPoint, radiusXPoint:SvgPoint, radiusYPoint: SvgPoint) => {\r\n        const c = new Ellipse();\r\n        c.init(ref);\r\n        c.x = middle.x;\r\n        c.y = middle.y;\r\n\r\n        c.rx = c.calculateRadius(middle, radiusXPoint);\r\n        c.ry = c.calculateRadius(middle, radiusYPoint);\r\n        return c;\r\n    }\r\n}","\r\nimport BaseElement from './BaseElement';\r\nimport SvgItem from './SvgItem';\r\nimport SvgPoint from './SvgPoint';\r\nexport default class Path extends BaseElement {\r\n \r\n    points: SvgPoint[] = [];\r\n    closePath: boolean = false;\r\n    getPath = () => {\r\n        if (this.points.length < 2) { return \"\" }\r\n\r\n        let firstPoint = this.points[0];\r\n        let path = \"M \" + firstPoint.x + \" \" + firstPoint.y;\r\n        for (let i = 0; i < this.points.length; i++) {\r\n            const point = this.points[i];\r\n            path += \" L \" + point.x + \" \" + point.y + \" \";\r\n        }\r\n        return path + (this.closePath ? \"Z\" : \"\");\r\n    }\r\n\r\n    html = () => {\r\n        return `<path stroke-width=\"`+this.strokeWidth+`\" stroke=\"` + this.strokeColor + `\" d=\"` + this.getPath() + `\" />`;\r\n    }\r\n\r\n    public static newInstance = (ref:SvgItem) => {\r\n        const p = new Path();\r\n        p.init(ref);\r\n        p.closePath = ref.closePath;\r\n        p.points = ref.points;\r\n        return p;\r\n    }\r\n}","import SvgPoint from './SvgPoint';\r\nimport Rect from './Rect';\r\nimport Circle from './Circle';\r\nimport QuadraticCurve from './QuadraticCurve';\r\nimport { uniqueId } from './../../utils/StringUtil';\r\nimport { ElementType } from '../../constant/ElementType';\r\nimport Ellipse from './Ellipse';\r\nimport BaseElement from './BaseElement';\r\nimport Path from './Path';\r\nexport default\r\n    class SvgItem {\r\n    points: SvgPoint[] = [];\r\n    closePath: boolean = false;\r\n    strokeColor: string = \"#20f08d\";\r\n    strokeWidth: number = 2;\r\n    type: ElementType = ElementType.PATH;\r\n    id: string = uniqueId();\r\n\r\n    public setClosePath = (val: boolean): SvgItem => {\r\n        this.closePath = val;\r\n        return this;\r\n    }\r\n    public setStrokeColor = (strokeColor: string): SvgItem => {\r\n        this.strokeColor = strokeColor;\r\n        return this;\r\n    }\r\n\r\n    public getPointByIndex = (index: number): SvgPoint | undefined => {\r\n        try {\r\n            return this.points[index];\r\n        } catch (e) { return undefined; }\r\n    }\r\n\r\n    public addPoint = (p: SvgPoint) => {\r\n        if ((this.type == ElementType.RECT || this.type == ElementType.CIRCLE) && this.pointCount()  >= 1) {\r\n            this.points[1] = p;\r\n            return;\r\n        }\r\n        if ((this.type == ElementType.ELLIPSE) && this.pointCount() >= 2) {\r\n            this.points[2] = p;\r\n            return;\r\n        }\r\n\r\n        this.points.push(p);\r\n    }\r\n\r\n    pointCount = () => {\r\n        return this.points.length;\r\n    }\r\n\r\n    public addPointByEvent = (e: React.MouseEvent<SVGRectElement>, target: SVGRectElement, straightLine: boolean) => {\r\n        let point: SvgPoint;\r\n        if ((this.type == ElementType.RECT || this.type == ElementType.CIRCLE) && this.pointCount()  >= 1) {\r\n            this.points[1] = SvgPoint.newInstanceFromEvent(e, target);\r\n            return;\r\n        }\r\n        if ((this.type == ElementType.ELLIPSE) && this.pointCount()  >= 2) {\r\n            this.points[2] = SvgPoint.newInstanceFromEvent(e, target);\r\n            return;\r\n        }\r\n\r\n\r\n        if (straightLine && this.pointCount()  > 0) {\r\n            const prevPoint = this.points[this.pointCount()  - 1];\r\n            point = SvgPoint.newStraightLineInstance(e, target, prevPoint);\r\n        } else {\r\n            point = SvgPoint.newInstanceFromEvent(e, target);\r\n        }\r\n        this.points.push(point);\r\n    }\r\n\r\n    public getCircleElement = (): Circle => {\r\n        if (this.type != ElementType.CIRCLE || this.pointCount()  < 2) {\r\n            return new Circle();\r\n        }\r\n        this.adjustPoints1And2();\r\n        let point1 = this.points[0];\r\n        let point2 = this.points[1];\r\n        return Circle.newInstance(this, point1, point2);\r\n    }\r\n\r\n    public getQuadCurveElement = (): QuadraticCurve => {\r\n        if (this.type != ElementType.CURVE || this.pointCount()  < 3) {\r\n            return new QuadraticCurve();\r\n        }\r\n        return QuadraticCurve.newInstance(this, ...this.points);\r\n\r\n    }\r\n    public getEllipseElement = (): Ellipse => {\r\n        if (this.type != ElementType.ELLIPSE || this.pointCount()  < 3) {\r\n            return new Ellipse();\r\n        }\r\n        let point1 = this.points[0];\r\n        let point2 = this.points[1];\r\n        let point3 = this.points[2];\r\n        return Ellipse.newInstance(this, point1, point2, point3);\r\n\r\n    }\r\n\r\n    public getRectElement = (): Rect => {\r\n        if (this.type != ElementType.RECT || this.pointCount()  < 2) {\r\n            return new Rect();\r\n        }\r\n        this.adjustPoints1And2();\r\n        let point1 = this.points[0];\r\n        let point2 = this.points[1];\r\n        return Rect.newInstance(this, point1, point2);\r\n    }\r\n    adjustPoints1And2 = () => {\r\n        let point1 = this.points[0];\r\n        let point2 = this.points[1];\r\n        //swap if negative\r\n        if (point2.x < point1.x) {\r\n            const xTemp = point2.x;\r\n            point2.x = point1.x;\r\n            point1.x = xTemp;\r\n        }\r\n        //swap if negative\r\n        if (point2.y < point1.y) {\r\n            const yTemp = point2.y;\r\n            point2.y = point1.y;\r\n            point1.y = yTemp;\r\n        }\r\n    }\r\n    getPathElement = () => {\r\n        const path = Path.newInstance(this);\r\n        return path;\r\n    }\r\n    getElement = (): BaseElement => {\r\n        if (this.type == ElementType.RECT) {\r\n            return this.getRectElement();\r\n        }\r\n        if (this.type == ElementType.CIRCLE) {\r\n            return this.getCircleElement();\r\n        }\r\n        if (this.type == ElementType.CURVE) {\r\n            return this.getQuadCurveElement();\r\n        }\r\n        if (this.type == ElementType.ELLIPSE) {\r\n            return this.getEllipseElement();\r\n        }\r\n\r\n        return this.getPathElement();\r\n    }\r\n    html = () => {\r\n        const el = this.getElement();\r\n        return el.html();\r\n    }\r\n    getBoundingRect = ():Rect => {\r\n        const xMax = this.getMaxAxis('x');\r\n        const yMax = this.getMaxAxis('y');\r\n        const xMin = this.getMinAxis('x', xMax);\r\n        const yMin = this.getMinAxis('y', yMax);\r\n        return Rect.getBoundingRect(xMin, xMax, yMin, yMax);\r\n    }\r\n    getMaxAxis = (axis: string): number => {\r\n        let value = 0;\r\n        for (let i = 0; i < this.pointCount() ; i++) {\r\n            const p = this.points[i];\r\n            if (p[axis] > value) { value = p[axis] }\r\n        }\r\n        return value;\r\n    }\r\n    getMinAxis = (axis: string, max: number): number => {\r\n        let value = max;\r\n        for (let i = 0; i < this.pointCount() ; i++) {\r\n            const p = this.points[i];\r\n            if (p[axis] < value) { value = p[axis] }\r\n        }\r\n        return value;\r\n    }\r\n    public static newInstance = (type: ElementType) => {\r\n        const res = new SvgItem();\r\n        res.type = type;\r\n        return res;\r\n    }\r\n\r\n    public static getOutput = (items: SvgItem[], w: number, h  : number): string => {\r\n        let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"` + w + `\" height=\"` + h + `\"><g stroke=\"black\" fill=\"transparent\" stroke-width=\"2\">\r\n        {SVG}</g></svg>`;\r\n        let paths = \"\";\r\n        for (let i = 0; i < items.length; i++) {\r\n            const element = items[i];\r\n            paths += element.html();\r\n        }\r\n        const output = svg.replace(\"{SVG}\", paths);\r\n\r\n        return output;\r\n    }\r\n}\r\n","import React, { ChangeEvent, Component, Fragment } from 'react'\r\nimport { ElementType } from '../../../constant/ElementType';\r\nimport SvgItem from '../../../models/elements/SvgItem';\r\nimport FormGroup from '../../form/FormGroup';\r\nimport AnchorWithIcon from '../../navigation/AnchorWithIcon';\r\nimport AnchorWithSvg from '../../navigation/AnchorWithSvg';\r\n\r\ninterface Props {\r\n    elements: SvgItem[],\r\n    handleInputChange(e: ChangeEvent): any,\r\n    selectedIndex: number,\r\n    width: number, height: number,\r\n    output?: string,\r\n    showOutput(): any,\r\n    pointColor: string,\r\n}\r\nexport default class GeneralForm extends Component<Props, any> {\r\n\r\n\r\n    render() {\r\n        const elements = this.props.elements;\r\n        return (\r\n            <Fragment>\r\n                <hr />\r\n                <h2 className=\"text-center\"><i className=\"fas fa-cog\" style={{marginRight:'5px'}}/>Setting</h2>\r\n                <form className=\"row\" onSubmit={(e) => e.preventDefault()}>\r\n                    <div className=\"col-md-12 text-center\"  ><p /></div>\r\n                    <FormGroup className=\"col-md-6\" label=\"Select Element\">\r\n                        <select name=\"selectedIndex\" value={this.props.selectedIndex} onChange={this.props.handleInputChange} className=\"form-control\">\r\n                            {array(elements.length).map((val, i) => {\r\n                                return <option key={\"select-index-\" + i} value={val}>{val}</option>\r\n                            })}\r\n                        </select>\r\n                    </FormGroup>\r\n                    <FormGroup className=\"col-md-6\" label=\"Size\">\r\n                        <div className=\"input-group\">\r\n                            <input className=\"form-control\" disabled value=\"width\" />\r\n                            <input autoComplete=\"off\" type=\"number\" value={this.props.width} onChange={this.props.handleInputChange}\r\n                                name=\"width\" className=\"form-control\" />\r\n                            <input className=\"form-control\" disabled value=\"height\" />\r\n                            <input autoComplete=\"off\" type=\"number\" value={this.props.height} onChange={this.props.handleInputChange}\r\n                                name=\"height\" className=\"form-control\" />\r\n                        </div>\r\n                    </FormGroup>\r\n                    <FormGroup className=\"col-md-6\" label=\"Point Color\">\r\n                        <input autoComplete=\"off\" type=\"color\" value={this.props.pointColor} onChange={this.props.handleInputChange}\r\n                            name=\"pointColor\" className=\"form-control\" />\r\n                    </FormGroup>\r\n                    <div className=\"col-md-12 text-center \" style={{ marginBottom: '20px' }}>\r\n                        <AnchorWithIcon onClick={this.props.showOutput} >Show Output</AnchorWithIcon>\r\n                    </div>\r\n                    <div className=\"col-md-12 \">\r\n                        <div className=\"alert alert-info\"><code>{this.props.output}</code></div>\r\n                    </div>\r\n                </form>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst array = (max: number) => {\r\n    const arr: Array<number> = [];\r\n    for (let i = 0; i < max; i++) {\r\n        arr.push(i);\r\n    }\r\n    return arr;\r\n}","import React from 'react'\r\nimport SvgItem from '../../../models/elements/SvgItem';\r\nexport const WorksheetRect = (props:{size:number,addPoint(e: React.MouseEvent<SVGRectElement>): void}) => {\r\n    const size = props.size;\r\n    return (\r\n        <rect  \r\n            focusable=\"true\" id=\"svg-screen\"\r\n            onClick={props.addPoint}\r\n            //  onMouseDown={this.onMouseDown} onMouseUp={this.onMouseUp}onMouseMove={this.onMouseMove}\r\n            fill=\"transparent\" x={0} y={0} width={size} height={size} />\r\n    )\r\n}\r\n\r\n\r\n","\r\nimport React, { Component } from 'react'; \r\ninterface Props {\r\n    onClick(e:any):any,\r\n    icon:string,\r\n    show?:boolean,\r\n    className?:string,\r\n    style?:any\r\n}\r\nexport default class AnchorWithSvg extends Component<Props, any>\r\n{\r\n    constructor(props: any) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        if (this.props.show == false) return null;\r\n        const btnClassName = this.props.className ?? \"btn btn-outline-secondary\";\r\n        \r\n        return (\r\n            <a   style={this.props.style} onClick={this.props.onClick} className={btnClassName} >\r\n                <img style={{ marginRight: this.props.children?'5px':'0px' }} width=\"24\" src={\"resources/assets/svg/\"+this.props.icon+\".svg\"} />\r\n                {this.props.children}\r\n            </a>\r\n        )\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\nimport SvgItem from '../../../models/elements/SvgItem';\r\nimport SvgPoint from './../../../models/elements/SvgPoint';\r\ninterface Props {\r\n    active: boolean, onMouseOver(p:SvgPoint), onMouseOut(p:SvgPoint), pointColor: string, onClick(id: string, index: number): any, element: SvgItem\r\n}\r\nexport default class Points extends Component<Props, any> {\r\n\r\n    render() {\r\n        const props = this.props;\r\n        const strokeColor = props.active ? 'rgb(0,0,0)' : '#fff';\r\n        return (\r\n            <g fill={props.pointColor} stroke={strokeColor} strokeWidth={1} className=\"svg-points\">\r\n                {props.element.points.map((p, i) => {\r\n                    return (\r\n                        <g><circle\r\n                            onMouseOut={(e)=>{ props.onMouseOut(p) }}\r\n                            onMouseOver={(e)=>{  props.onMouseOver(p) }} strokeWidth={i == 0 ? 3 : 1} className=\"svg-point\" onClick={(e) => {\r\n                            e.preventDefault();\r\n                            props.onClick(props.element.id, i);\r\n                        }} key={\"point-\" + \"_\" + i} cx={p.x} cy={p.y} r={3} />\r\n                        </g>\r\n                    )\r\n                })\r\n                }\r\n            </g>\r\n        )\r\n    }\r\n}","import React, { ChangeEvent } from 'react'\r\nimport Modal from '../../container/Modal';\r\nimport FormGroup from '../../form/FormGroup';\r\nimport AnchorWithIcon from '../../navigation/AnchorWithIcon';\r\nimport BaseComponent from '../../BaseComponent';\r\nimport './SvgCreator.css'\r\nimport { mapCommonUserStateToProps } from '../../../constant/stores';\r\nimport { connect } from 'react-redux';\r\nimport ToggleButton from '../../navigation/ToggleButton';\r\nimport SvgItem from '../../../models/elements/SvgItem';\r\nimport SvgPoint from '../../../models/elements/SvgPoint';\r\nimport GeneralForm from './SettingForm';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { WorksheetRect  } from './creatorHelper';\r\nimport { ElementType } from '../../../constant/ElementType';\r\nimport AnchorWithSvg from './../../navigation/AnchorWithSvg';\r\nimport Points from './Points';\r\n\r\nclass State {\r\n    svgElements: SvgItem[] = [new SvgItem()];\r\n    pointColor: string = \"#cccccc\";\r\n    width: number = 400;\r\n    height: number = 400;\r\n    selectedIndex: number = 0;\r\n    editMode: boolean = true;\r\n    output?: string;\r\n    selectedPoint: SvgPoint|undefined;\r\n}\r\nclass SvgCreator extends BaseComponent {\r\n    state: State = new State();\r\n    straightLine: boolean = false;\r\n    constructor(props) {\r\n        super(props, false);\r\n        this.initKeyListener();\r\n    }\r\n    initKeyListener = () => {\r\n        window.onkeypress = this.onkeypress;\r\n        window.onkeyup = this.onkeyup;\r\n    }\r\n    setActiveIndex = (index: number) => {\r\n        if (this.state.editMode) return;\r\n        this.setState({ selectedIndex: index });\r\n    }\r\n    onkeyup: (((this: Window | GlobalEventHandlers, ev: KeyboardEvent) => any) & ((this: Window, ev: KeyboardEvent) => any)) =\r\n        event => { this.straightLine = false; }\r\n\r\n    onkeypress: (((this: Window | GlobalEventHandlers, ev: KeyboardEvent) => any) & ((this: Window, ev: KeyboardEvent) => any)) =\r\n        event => {\r\n            if (event instanceof KeyboardEvent) {\r\n                const keyEvent: KeyboardEvent = event as KeyboardEvent;\r\n                if (keyEvent.key == 'h') {\r\n                    this.straightLine = true;\r\n                } else if (keyEvent.key == 'z') {\r\n                    this.updateClosePath(!this.getSelectedElement().closePath);\r\n                } else if (keyEvent.key == 'e') {\r\n                    this.setEditMode(!this.state.editMode);\r\n                }\r\n            }\r\n        }\r\n    addPoint = (e: React.MouseEvent<SVGRectElement>): void => {\r\n        const target = e.target as SVGRectElement;\r\n        if (!target) return;\r\n        if (target.id !== 'svg-screen') {\r\n            console.debug(\"TAG NAME: \", target.tagName);\r\n            return;\r\n        }\r\n\r\n        const element: SvgItem = this.getSelectedElement();\r\n        element.addPointByEvent(e, target, this.straightLine);\r\n        this.updateSelectedElement(element);\r\n    }\r\n    getSelectedElement = (): SvgItem => {\r\n        const elements = this.state.svgElements;\r\n        return elements[this.state.selectedIndex];\r\n    }\r\n    setElementType = (e: ChangeEvent) => {\r\n        if (this.state.editMode) { return; }\r\n        const target = e.target as HTMLSelectElement;\r\n        this.setState({ elementType: target.value });\r\n    }\r\n    addPointToCurrentElement = (p: SvgPoint) => {\r\n        const element = this.getSelectedElement();\r\n        element.points.push(p);\r\n        this.updateSelectedElement(element);\r\n    }\r\n    updateSelectedElementProp = (e: ChangeEvent) => {\r\n        const target = e.target as HTMLInputElement;\r\n        const name = target.name;\r\n        const val = target.type == 'number' ? parseInt(target.value) : target.value;\r\n        const element = this.getSelectedElement();\r\n        element[name] = val;\r\n        this.updateSelectedElement(element);\r\n    }\r\n    updateSelectedElement = (element: SvgItem) => {\r\n        const elements = this.state.svgElements;\r\n        elements[this.state.selectedIndex] = element;\r\n        this.setState({ svgElements: elements });\r\n    }\r\n    updateClosePath = (value: boolean) => {\r\n        const element = this.getSelectedElement().setClosePath(value);\r\n        this.updateSelectedElement(element);\r\n    }\r\n    addSvgElement = (type: ElementType) => {\r\n        const elements = this.state.svgElements;\r\n        elements.push(SvgItem.newInstance(type));\r\n        this.setState({ editMode: true, svgElements: elements, selectedIndex: elements.length - 1 });\r\n    }\r\n    removeSelectedElement = () => {\r\n        const elements = this.state.svgElements;\r\n        if (elements.length <= 1) {\r\n            try {\r\n                elements[this.state.selectedIndex].points = [];\r\n                this.setState({ svgElements: elements });\r\n            } catch (error) { console.error(error) }\r\n            return;\r\n        }\r\n        for (let i = 0; i < elements.length; i++) {\r\n            if (i == this.state.selectedIndex) {\r\n                elements.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n        this.setState({ svgElements: elements, selectedIndex: elements.length - 1 });\r\n    }\r\n    onPointClick = (id: string, index: number) => {\r\n        if (id == this.getSelectedElement().id) {\r\n            this.removePoint(index);\r\n            return;\r\n        }\r\n        this.addPointFromReferencePoint(id, index);\r\n\r\n    }\r\n    addPointFromReferencePoint = (id: string, index: number) => {\r\n        const elements = this.state.svgElements;\r\n        const filteredElements: SvgItem[] = elements.filter((e => e.id == id));\r\n        if (filteredElements.length == 0) return;\r\n        const refElement = filteredElements[0];\r\n        const refPoint = refElement.getPointByIndex(index);\r\n        if (!refPoint) {\r\n            return;\r\n        }\r\n        const element = this.getSelectedElement();\r\n        element.addPoint(SvgPoint.newInstanceFromReference(refPoint));\r\n        this.updateSelectedElement(element);\r\n    }\r\n    removePoint = (index: number) => {\r\n        console.debug(\"removePoint : \", index);\r\n        const element = this.getSelectedElement();\r\n        for (let i = 0; i < element.points.length; i++) {\r\n            if (i == index) {\r\n                element.points.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n        this.updateSelectedElement(element);\r\n    }\r\n    setEditMode = (val: boolean) => { this.setState({ editMode: val }); }\r\n    showOutput = () => {\r\n        this.setState({ output: SvgItem.getOutput(this.state.svgElements, this.state.width, this.state.height) });\r\n    }\r\n    setSelectedPoint = (p?:SvgPoint) => {\r\n        this.setState({selectedPoint: p});\r\n    }\r\n    removeSelectedPoint = (p:SvgPoint) => {\r\n        this.setSelectedPoint(undefined);\r\n    }\r\n    render = () => {\r\n        const elements: SvgItem[] = this.state.svgElements;\r\n        const element: SvgItem = this.getSelectedElement();\r\n        const pointColor = this.state.pointColor;\r\n        const w = this.state.width, h = this.state.height;\r\n        const editMode = this.state.editMode;\r\n        const boundingRect = element.getBoundingRect();\r\n        const selectedPoint:SvgPoint|undefined = this.state.selectedPoint;\r\n\r\n        return <Modal title=\"Draw Your Svg Path\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-7 svg-wrapper text-center\" style={{ backgroundImage: 'url(' + this.props.imageData + ')', }}>\r\n                    <svg className=\" svg-sheet\" width={w} height={h}>\r\n                        <g fill=\"none\" className=\"svg-path\">\r\n                            {elements.map((element, i) => {\r\n                                const strokeWidth = element.strokeWidth;\r\n                                const strokeColor = element.strokeColor;\r\n                                const className = this.state.editMode == false ? \"path-selectable\" : \"path-regular\";\r\n                                // console.debug(\"element.type === ElementType.RECT: \",element.type, ElementType.RECT, (element.type == ElementType.RECT));\r\n\r\n                                if (element.type == ElementType.RECT) {\r\n\r\n                                    const rect = element.getRectElement();\r\n                                    return <rect stroke={strokeColor} onClick={(e) => this.setActiveIndex(i)}\r\n                                        className={className} strokeWidth={strokeWidth} key={\"rect-\" + i}\r\n                                        x={rect.x} y={rect.y} width={rect.width} height={rect.height}\r\n                                    />\r\n                                }\r\n                                if (element.type == ElementType.CIRCLE) {\r\n                                    const circle = element.getCircleElement();\r\n                                    return <circle fill=\"none\" stroke={strokeColor} onClick={(e) => this.setActiveIndex(i)}\r\n                                        className={className}\r\n                                        strokeWidth={strokeWidth} key={\"circle-\" + i}\r\n                                        cx={circle.x} cy={circle.y} r={circle.r}\r\n                                    />\r\n                                }\r\n                                if (element.type == ElementType.CURVE) {\r\n                                    const curve = element.getQuadCurveElement();\r\n                                    return <path stroke={strokeColor} onClick={(e) => this.setActiveIndex(i)} className={className}\r\n                                        strokeWidth={strokeWidth} key={\"curve-\" + i} d={curve.getPath()} />\r\n                                }\r\n                                if (element.type == ElementType.ELLIPSE) {\r\n                                    const ellipse = element.getEllipseElement();\r\n                                    return <ellipse stroke={strokeColor} onClick={(e) => this.setActiveIndex(i)} className={className}\r\n                                        strokeWidth={strokeWidth} key={\"curve-\" + i} cx={ellipse.x} cy={ellipse.y} rx={ellipse.rx} ry={ellipse.ry} />\r\n                                }\r\n                                const path = element.getPathElement();\r\n\r\n                                return <path stroke={strokeColor} onClick={(e) => this.setActiveIndex(i)} className={className}\r\n                                    strokeWidth={strokeWidth} key={\"path-\" + i} d={path.getPath()} />\r\n                            })}\r\n                        </g>\r\n                        <rect x={boundingRect.x} y={boundingRect.y} width={boundingRect.width} height={boundingRect.height}\r\n                                    fill=\"none\" stroke={boundingRect.strokeColor} strokeWidth={boundingRect.strokeWidth}\r\n                                />\r\n                        {editMode ?\r\n                            <g>\r\n                                <WorksheetRect size={w} addPoint={this.addPoint} />\r\n                                {elements.map((el, i) => {\r\n                                    if (i == this.state.selectedIndex) return null\r\n                                    return (\r\n                                        <Points onMouseOver={this.setSelectedPoint} onMouseOut={this.removeSelectedPoint} key={\"pts-\" + i} active={false} pointColor={pointColor} element={el} onClick={this.onPointClick} />\r\n                                    )\r\n                                })}\r\n                                {/* bounding rect */}\r\n                               \r\n                                {/* selected element point */}\r\n                                <Points onMouseOver={this.setSelectedPoint} onMouseOut={this.removeSelectedPoint}  active pointColor={pointColor} element={element} onClick={this.onPointClick} />\r\n                            </g> : null\r\n                        }\r\n                    </svg>\r\n                </div>\r\n                <div className=\"col-md-1\">\r\n                    <div className=\" btn-group-vertical\">\r\n                        <span className=\"btn btn-dark\">Items:  {elements.length}\r\n                        </span>\r\n                        <AnchorWithIcon onClick={(e) => { this.addSvgElement(ElementType.PATH) }} iconClassName=\"fas fa-draw-polygon\" />\r\n                        <AnchorWithIcon onClick={(e) => { this.addSvgElement(ElementType.CIRCLE) }} iconClassName=\"far fa-circle\" />\r\n                        <AnchorWithIcon onClick={(e) => { this.addSvgElement(ElementType.RECT) }} iconClassName=\"far fa-square\" />\r\n                        <AnchorWithSvg onClick={(e) => { this.addSvgElement(ElementType.CURVE) }} icon=\"curve\" />\r\n                        <AnchorWithSvg onClick={(e) => { this.addSvgElement(ElementType.ELLIPSE) }} icon=\"ellips\" />\r\n                        {selectedPoint?\r\n                        <i>x:{selectedPoint.x} y:{selectedPoint.y}</i>\r\n                        :null}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                    <form className=\"container-fluid  \" onSubmit={(e) => e.preventDefault()}>\r\n                        <h4><i className=\"fas fa-palette\" />&nbsp;Options</h4>\r\n                        <FormGroup label=\"Type\" children={ElementType[element.type] + \" [\" + this.state.selectedIndex + \"]\"} />\r\n                        <FormGroup label=\"Close Path\">\r\n                            <ToggleButton active={element.closePath} onClick={this.updateClosePath} /><br />\r\n                            <p>Press <span className={element.closePath ? \"badge badge-success\" : \"badge badge-dark\"}>Z</span> to toggle Close Path</p>\r\n                        </FormGroup>\r\n                        <FormGroup label=\"Stroke Color\">\r\n                            <input type=\"color\" className=\"form-control\" name=\"strokeColor\" value={element.strokeColor}\r\n                                onChange={this.updateSelectedElementProp} />\r\n                        </FormGroup>\r\n                        <FormGroup label=\"Stroke Width\">\r\n                            <input type=\"number\" className=\"form-control\" name=\"strokeWidth\" value={element.strokeWidth}\r\n                                onChange={this.updateSelectedElementProp} />\r\n                        </FormGroup>\r\n                        <FormGroup label=\"Edit Mode\">\r\n                            <ToggleButton active={this.state.editMode == true} onClick={this.setEditMode} />\r\n                            <i>&nbsp;&nbsp;{this.state.editMode == false ? \"Select path to edit\" : null}</i>\r\n                        </FormGroup>\r\n                        <FormGroup  >\r\n                            <p>Hold <span className=\"badge badge-dark\">H</span> to make Straight Line</p>\r\n                            <p>Press <span className={this.state.editMode ? \"badge badge-success\" : \"badge badge-dark\"}>E</span> to toggle Edit Mode</p>\r\n                            <AnchorWithIcon onClick={this.removeSelectedElement} iconClassName=\"fas fa-times\"\r\n                                className=\"btn btn-danger btn-sm\">Delete Path</AnchorWithIcon>\r\n                        </FormGroup>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <p />\r\n            <GeneralForm elements={elements} handleInputChange={this.handleInputChange}\r\n                showOutput={this.showOutput}\r\n                selectedIndex={this.state.selectedIndex} width={this.state.width} height={this.state.height}\r\n                pointColor={this.state.pointColor} output={this.state.output}\r\n            />\r\n        </Modal>\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps\r\n)(SvgCreator))","\r\nimport React, { ChangeEvent, Component } from 'react';\r\nimport { toBase64v2 } from '../../../utils/ComponentUtil';\r\nimport SimpleError from '../../alert/SimpleError';\r\nimport Modal from '../../container/Modal';\r\nimport BaseComponent from '../../BaseComponent';\r\nimport FormGroup from '../../form/FormGroup';\r\nimport SvgCreator from './SvgCreator';\r\nimport { BASE_TEMPLATE } from './baseTemplate';\r\nclass State {\r\n    imageData?: string = BASE_TEMPLATE;\r\n}\r\nexport default class CreatorMain extends BaseComponent {\r\n    state: State = new State();\r\n    constructor(props) {\r\n        super(props, false);\r\n    }\r\n    onFileChange = (e: ChangeEvent) => {\r\n        const target = e.target as HTMLInputElement;\r\n        toBase64v2(target).then((data) => {\r\n            this.setState({ imageData: data });\r\n        })\r\n    }\r\n    render = () => {\r\n\r\n        return (\r\n            <section className=\"container-fluid\" style={{ marginTop: '50px' }}>\r\n                <h2>Generate Path SVG</h2>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                        <InputImage onChange={this.onFileChange} />\r\n                    </div>\r\n                    {/* <div className=\"col-md-6 text-center\">\r\n                        <Modal title=\"Preview\">\r\n                            {this.state.imageData ?\r\n                                <img src={this.state.imageData} width=\"200\" height=\"200\" /> :\r\n                                <SimpleError>No data</SimpleError>\r\n                            }\r\n                        </Modal>\r\n                    </div> */}\r\n                    <div className=\"col-12\">\r\n                         {this.state.imageData ?\r\n                         <SvgCreator imageData={this.state.imageData} />:null}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst InputImage = (props: { onChange(e: ChangeEvent): any }) => {\r\n\r\n    return (\r\n        <Modal title=\"Select Template Image\">\r\n            <form>\r\n                <FormGroup label=\"Select\" >\r\n                    <input onChange={props.onChange} type=\"file\" className=\"form-control\" />\r\n                </FormGroup>\r\n            </form>\r\n        </Modal>\r\n    )\r\n}","export const  BASE_TEMPLATE:string = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACECAIAAADN8VQEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEySURBVHhe7dEBDQAwEAOh+Tfd2fhLwAJvnCcpQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCkAEkBkgIkBUgKkBQgKUBSgKQASQGSAiQFSAqQFCApQFKApABJAZICJAVICpAUIClAUoCk87YPMPvEClHp6T0AAAAASUVORK5CYII=\";","\r\n\r\nimport React, { Component, Fragment } from 'react';\r\nimport BaseComponent from './../BaseComponent';\r\nimport { mapCommonUserStateToProps } from './../../constant/stores';\r\nimport { withRouter, Switch, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux'; \r\nimport BaseMainMenus from './BaseMainMenus';\r\nimport Menu from '../../models/common/Menu'; \r\nimport HomeMain from './../pages/home/HomeMain';\r\nimport CreatorMain from './../pages/creator/CreatorMain';\r\n\r\nclass ApplicationContent extends BaseComponent {\r\n\r\n    ref: React.RefObject<BaseMainMenus> = React.createRef();\r\n    constructor(props: any) {\r\n        super(props, false);\r\n    }\r\n    setSidebarMenus = (menus: Menu[]) => {\r\n        this.props.setSidebarMenus(menus);\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Switch>\r\n                     \r\n                    {/* -------- home -------- */}\r\n                    <Route exact path=\"/home\" render={\r\n                        (props: any) =>\r\n                            <HomeMain />\r\n                    } />\r\n                    <Route exact path=\"/\" render={\r\n                        (props: any) =>\r\n                            <HomeMain />\r\n                    } />\r\n                    <Route exact path=\"/creator\" render={\r\n                        (props: any) =>\r\n                            <CreatorMain />\r\n                    } />\r\n                     </Switch>\r\n            </Fragment>\r\n        )\r\n    } \r\n\r\n} \r\n\r\n\r\nconst mapDispatchToProps = (dispatch: Function) => ({})\r\n\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(ApplicationContent))","import BaseEntity from '../BaseEntity'; \nimport { uniqueId } from '../../utils/StringUtil';\n\nexport default class Menu extends BaseEntity{\n\tstatic defaultMenuIconClassName:string = \"fas fa-folder\";\n\n\tcode:string = uniqueId();\n\tname?:string;\n\tdescription?:string;\n\turl?:string;\n\tpathVariables?:string; \n\ticonUrl?:string;\n\tcolor?:string;\n\tfontColor?:string;\n\n\t//\n\tactive?:boolean = false;\n\tmenuClass?:string = \"fas fa-folder\";\n\tauthenticated?:boolean = false;\n\tshowSidebar?:boolean  = false;\n\tsubMenus?:Menu[] = undefined;\n\n\tstatic getIconClassName = (menu:Menu) => {\n\t\tif (undefined == menu.menuClass) {\n\t\t\treturn Menu.defaultMenuIconClassName;\n\t\t}\n\t\treturn menu.menuClass;\n\t}\n}\n","\r\n\r\nimport React, { Component, Fragment } from 'react';\r\nimport BaseComponent from './../BaseComponent';\r\nimport { mapCommonUserStateToProps } from './../../constant/stores';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { performLogout } from './../../redux/actionCreators';\r\nimport Menu from '../../models/common/Menu';\r\nimport './SideBar.css'\r\n\r\nclass SideBar extends BaseComponent {\r\n    constructor(props: { brand: any, sidebarMenus?: Menu[] }) {\r\n        super(props, false);\r\n    }\r\n    isSidebarActive = (menu: Menu) => {\r\n        const parentMenu: Menu = this.props.parentMenu;\r\n        if (null == parentMenu) { return false; }\r\n        const pathName = this.props.location.pathname;\r\n        return parentMenu.url + \"/\" + menu.url == pathName;\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n    handleScroll(event) {\r\n        let scrollTop = event.srcElement.body.scrollTop,\r\n            itemTranslate = Math.min(0, scrollTop / 3 - 60);\r\n        // console.debug(\"scrollTop: \", scrollTop);\r\n\r\n    }\r\n    render() {\r\n        const parentMenu: Menu = this.props.parentMenu;\r\n        if (null == parentMenu) { return null }\r\n        const menus: Menu[] = this.props.sidebarMenus == null ? [] : this.props.sidebarMenus;\r\n\r\n        return (\r\n            <ul id=\"sidebar\" className=\"sidebar-nav bg-light\">\r\n                <Brand show={parentMenu != null} brand={parentMenu} />\r\n                {menus.map(menu => {\r\n                    const isActive: boolean = this.isSidebarActive(menu);\r\n                    const menuClassName = isActive ? 'menu-active' : 'regular-menu';\r\n                    return (\r\n                        <li className={\"sidebar-item \" + menuClassName} key={\"SIDEBAR_\" + menu.code}><Link to={parentMenu.url + \"/\" + menu.url}>\r\n                            <span className=\"sidebar-icon\"><i className={Menu.getIconClassName(menu)}></i></span>\r\n                            <span className={'menu-label'} >{menu.name}</span>\r\n                        </Link></li>\r\n                    )\r\n                })\r\n                }\r\n            </ul >\r\n        )\r\n    }\r\n\r\n}\r\nconst Brand = (props) => {\r\n    if (props.show == false) return null;\r\n    return (\r\n        <Fragment> <li id=\"sidebar-brand\" className=\"sidebar-brand\" style={{ marginBottom: '20px' }}><div\r\n            style={{\r\n                textAlign: 'center', paddingTop: '10px',\r\n                paddingBottom: '10px'\r\n            }}>\r\n            <h3 className=\"text-dark\">\r\n                <i className={Menu.getIconClassName(props.brand)}></i>\r\n            </h3>\r\n            <Link to={props.brand.url} style={{ textDecoration: 'none' }}><h4 className=\"text-dark\">{props.brand.name}</h4></Link>\r\n        </div></li>\r\n            <li className={\"sidebar-item-brand \"} >\r\n                <Link to={props.brand.url}>\r\n                    <span className=\"sidebar-icon\"><i className={Menu.getIconClassName(props.brand)}></i></span>\r\n                </Link>\r\n            </li>\r\n        </Fragment>\r\n    )\r\n}\r\nconst mapDispatchToProps = (dispatch: Function) => ({\r\n    performLogout: (app: any) => dispatch(performLogout(app))\r\n})\r\n\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(SideBar))","\r\n\r\nimport React, { Fragment } from 'react';\r\nimport BaseComponent from './../BaseComponent';\r\nimport { mapCommonUserStateToProps } from './../../constant/stores';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { performLogout } from './../../redux/actionCreators';\r\nimport Header from '../navigation/Header';\r\nimport ApplicationContent from './ApplicationContent';\r\nimport SideBar from '../navigation/SideBar';\r\nimport './Layout.css';\r\nimport Menu from '../../models/common/Menu';\r\nimport { getMenuByMenuPath, extractMenuPath } from './../../constant/Menus';\r\ninterface IState {\r\n    showSidebar: boolean;\r\n    activeMenuCode: any;\r\n    menu?: Menu;\r\n    sidebarMenus?: Menu[]\r\n};\r\nclass MainLayout extends BaseComponent {\r\n    state: IState = {\r\n        showSidebar: false,\r\n        activeMenuCode: null,\r\n        menu: undefined,\r\n        sidebarMenus: []\r\n    };\r\n    currentPathName: string = \"\";\r\n    constructor(props: any) {\r\n        super(props, false);\r\n        this.state = {\r\n            ...this.state,\r\n        }\r\n    }\r\n    setMenuNull = () => {\r\n        console.warn(\"SET MENU NULL\");\r\n        this.setState({ menu: undefined, showSidebar: false, activeMenuCode: null, sidebarMenus: null });\r\n    }\r\n    setMenu = (menu: Menu) => {\r\n        if (menu == null) {\r\n            return;\r\n        }\r\n        console.debug(\"SET MENU: \", menu.code);\r\n        this.setState({ menu: menu, sidebarMenus: null, showSidebar: menu.showSidebar, activeMenuCode: menu.code });\r\n    }\r\n    setSidebarMenus = (menus: Menu[]) => {\r\n        // console.debug(\"Set sidebar menus: \", menus);\r\n        this.setState({ sidebarMenus: menus });\r\n    }\r\n    componentDidMount() {\r\n        this.setCurrentMenu();\r\n    }\r\n    componentDidUpdate() {\r\n        this.setCurrentMenu();\r\n    }\r\n    setCurrentMenu = () => {\r\n        const pathName = extractMenuPath(this.props.location.pathname);\r\n       \r\n        if (pathName == this.currentPathName) {\r\n            return;\r\n        }\r\n        this.currentPathName = pathName;\r\n        const menu = getMenuByMenuPath(pathName);\r\n        if (menu == null) {\r\n            this.setMenuNull();\r\n        } else {\r\n            this.setMenu(menu);\r\n        }\r\n    }\r\n    getSubMenus = () => {\r\n        if (this.state.menu && this.state.menu.subMenus != null && this.state.menu.subMenus?.length > 0) {\r\n            return this.state.menu?.subMenus;\r\n        }\r\n        if (this.state.sidebarMenus) {\r\n            return this.state.sidebarMenus;\r\n        }\r\n        return null;\r\n    }\r\n    render() {\r\n        const showSidebar = this.state.showSidebar == true;\r\n        return (\r\n           <Fragment>\r\n                <Header setMenuNull={this.setMenuNull} activeMenuCode={this.state.activeMenuCode} setMenu={this.setMenu}  />\r\n                <div id=\"page-content\" className=\"container-fluid\"  >    \r\n                    <div className=\"container-fluid\" style={{zIndex:  1 , \r\n                    // position:'absolute',\r\n                    paddingTop: '55px'}} \r\n                    id={showSidebar ? \"app-content\" : \"content\"}>\r\n                        <ApplicationContent setSidebarMenus={this.setSidebarMenus}  />\r\n                    </div>\r\n                    {showSidebar == true ?  \r\n                            <SideBar sidebarMenus={this.getSubMenus()} parentMenu={this.state.menu} />\r\n                         : null}\r\n                    {/* </div> */}\r\n\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapDispatchToProps = (dispatch: Function) => ({\r\n    performLogout: (app: any) => dispatch(performLogout(app))\r\n})\r\n\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(MainLayout))","\nimport React, { Component, Fragment, RefObject } from 'react';\nimport './App.css';\nimport { withRouter } from 'react-router-dom'\nimport * as actions from './redux/actionCreators'\nimport { connect } from 'react-redux'\nimport SockJsClient from 'react-stomp';\nimport * as url from './constant/Url';\nimport { mapCommonUserStateToProps } from './constant/stores';\nimport Loader from './component/loader/Loader';\nimport Alert from './component/alert/Alert';\nimport MainLayout from './component/layout/MainLayout';\nimport WebResponse from './models/common/WebResponse';\nimport Spinner from './component/loader/Spinner';\nimport UserService from './services/UserService';\nimport { doItLater } from './utils/EventUtil';\n\nclass IState {\n  loading: boolean = false;\n  loadingPercentage: number = 0;\n  requestId?: undefined;\n  mainAppUpdated: Date = new Date();\n  showAlert: boolean = false;\n  realtime: boolean = false;\n  appIdStatus: string = \"Loading App Id\";\n  errorRequestAppId: boolean = false;\n}\nclass App extends Component<any, IState> {\n\n  state: IState = new IState();\n  loadings: number = 0;\n  alertTitle: String = \"Info\";\n  alertBody: any = null;\n  alertIsYesOnly: boolean = true;\n  alertIsError: boolean = false;\n  alertOnYesCallback: Function = function (e) { };\n  alertOnCancelCallback: Function = function (e) { };\n  clientRef: RefObject<SockJsClient> = React.createRef();\n  userService: UserService;\n  // alertRef: RefObject<Alert> = React.createRef();\n  alertCallback = {\n    title: \"Info\",\n    message: \"Info\",\n    yesOnly: false,\n    onOk: () => { },\n    onNo: () => { }\n  }\n\n  constructor(props: any) {\n    super(props);\n\n    this.props.setMainApp(this);\n    this.userService = this.props.services.userService;\n\n  }\n  refresh() {\n    this.setState({ mainAppUpdated: new Date() });\n  }\n\n  requestAppId = () => {\n    this.setState({ errorRequestAppId: false, appIdStatus: \"Authenticating application\" });\n    this.userService.requestApplicationId((response) => {\n      this.props.setRequestId(response, this);\n      this.refresh();\n    }, this.retryRequestAppId)\n\n  }\n  retryRequestAppId = () => {\n    // console.debug(\"RETRYING\");\n    this.setState({ errorRequestAppId: false, appIdStatus: \"Authenticating application (Retrying)\" });\n    this.userService.requestApplicationIdNoAuth((response) => {\n      this.props.setRequestId(response, this);\n    }, this.errorRequestingAppId)\n\n  }\n\n  errorRequestingAppId = () => {\n    this.setState({ errorRequestAppId: true });\n  }\n\n  incrementLoadings() {\n    this.loadings++;\n  }\n\n  decrementLoadings() {\n    this.loadings--;\n    if (this.loadings < 0) {\n      this.loadings = 0;\n    }\n  }\n\n  startLoading(realtime) {\n    this.incrementLoadings();\n    this.setState({ loading: true, realtime: realtime });\n  }\n\n  endLoading() {\n    try {\n      this.decrementLoadings();\n      if (this.loadings == 0) {\n        if (this.state.realtime) {\n          this.setState({ loadingPercentage: 100 },\n            this.smoothEndLoading);\n        } else {\n          this.setState({ loading: false, loadingPercentage: 0 });\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n\n  }\n\n  smoothEndLoading = () => {\n    doItLater(() => {\n      this.setState({ loading: false, loadingPercentage: 0 });\n    }, 100);\n  }\n\n  handleMessage(msg: WebResponse) {\n    const percentageFloat: number = msg.percentage ?? 0;\n    let percentage = Math.floor(percentageFloat);\n    if (percentageFloat < 0 || percentageFloat > 100) {\n      this.endLoading();\n    }\n    this.setState({ loadingPercentage: percentage });\n  }\n\n  showAlert(title: string, body: any, yesOnly: boolean, yesCallback: Function, noCallback?: Function) {\n    this.alertTitle = title;\n    this.alertBody = body;\n    this.alertIsYesOnly = yesOnly;\n    const app = this;\n    this.alertOnYesCallback = function (e) {\n      app.dismissAlert();\n      yesCallback(e);\n    }\n    if (!yesOnly) {\n      this.alertOnCancelCallback = function (e) {\n        app.dismissAlert();\n        if (noCallback != null) {\n          noCallback(e);\n        }\n      };\n    }\n    this.setState({ showAlert: true });\n  }\n\n  dismissAlert() {\n    this.alertIsError = false;\n    this.setState({ showAlert: false })\n  }\n  showAlertError(title: string, body: any, yesOnly: boolean, yesCallback: Function, noCallback?: Function) {\n    this.alertIsError = true;\n    this.showAlert(title, body, yesOnly, yesCallback, noCallback)\n  }\n\n  componentDidUpdate() {\n    // console.debug(\"APP UPDATED\");\n    if (this.props.applicationProfile) {\n      updateFavicon(this.props.applicationProfile);\n    }\n  }\n\n  componentDidMount() {\n\n\n    this.setState({ loadingPercentage: 0 });\n  }\n\n  render() {\n\n\n\n    return (\n      <Fragment>\n        <Loading realtime={this.state.realtime} loading={this.state.loading} loadingPercentage={this.state.loadingPercentage} />\n        {this.state.showAlert ?\n          <Alert title={this.alertTitle}\n            isError={this.alertIsError}\n            onClose={(e) => this.setState({ showAlert: false })}\n            yesOnly={this.alertIsYesOnly}\n            onYes={this.alertOnYesCallback} onNo={this.alertOnCancelCallback}\n          >{this.alertBody}</Alert> :\n          null}\n        <MainLayout />\n        {/* <SockJsClient url={usedHost + 'realtime-app'} topics={['/wsResp/progress/' + this.props.requestId]}\n          onMessage={(msg: WebResponse) => { this.handleMessage(msg) }}\n          ref={(client) => { this.clientRef = client }} /> */}\n        <Footer />\n      </Fragment>\n    )\n  }\n}\n\nconst Footer = (props) => {\n  return (\n    <footer  className=\"container-fluid text-center bg-light\">\n      <p />\n      <hr />\n      <p><i className=\"fas fa-coffee\" style={{marginRight:5}}/>fajaralmu 2021</p>\n      <p/>\n    </footer>\n  )\n}\nfunction Loading(props) {\n  if (props.loading == true) {\n    return (\n      <Loader realtime={props.realtime} progress={props.loadingPercentage} text=\"Please wait...\" type=\"loading\" />\n    );\n  }\n  return null;\n}\n\nfunction updateFavicon(profile: any) {\n  if (profile.pageIcon) {\n    let link = document.querySelector('link[rel=\"shortcut icon\"]') ||\n      document.querySelector('link[rel=\"icon\"]');\n    if (!link) {\n      link = document.createElement('link');\n      link.id = 'favicon';\n      link.setAttribute(\"rel\", 'shortcut icon');\n      document.head.appendChild(link);\n    }\n    link.setAttribute(\"href\", url.baseImageUrl() + profile.pageIcon);\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Function) => ({\n  setMainApp: (app: App) => dispatch(actions.setMainApp(app)),\n  setRequestId: (response: WebResponse, app: App) => dispatch(actions.setRequestId(response, app)),\n})\n\nexport default withRouter(connect(\n  mapCommonUserStateToProps,\n  mapDispatchToProps\n)(App))\n","export const doItLater = (callback:()=>any, intervalMs:number) => {\r\n    const timeout = setTimeout(()=>{\r\n       callback();\r\n        clearTimeout(timeout);\r\n      }, intervalMs)\r\n}","import React from 'react'\r\nimport App from './App'\r\nimport configureStore from './redux/configureStore'\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n \r\nconst Root = (props:any)  => {\r\n\r\n    const store = configureStore();\r\n\r\n    return (\r\n        <Provider store={store}>\r\n            <HashRouter>\r\n                <App/>\r\n            </HashRouter>\r\n        </Provider>  \r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Root;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from './Root.tsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}